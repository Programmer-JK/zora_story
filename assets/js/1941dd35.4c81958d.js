"use strict";(self.webpackChunkjk_story=self.webpackChunkjk_story||[]).push([[8068],{9584:(e,n,s)=>{s.r(n),s.d(n,{assets:()=>c,contentTitle:()=>o,default:()=>u,frontMatter:()=>t,metadata:()=>i,toc:()=>a});var r=s(4848),l=s(8453);const t={},o=void 0,i={id:"Node.js/Node.js \uc2ec\ud654",title:"Node.js \uc2ec\ud654",description:"\uc791\uc131\uc77c : 2024.12.06",source:"@site/docs/Node.js/Node.js \uc2ec\ud654.md",sourceDirName:"Node.js",slug:"/Node.js/Node.js \uc2ec\ud654",permalink:"/zora_story/docs/Node.js/Node.js \uc2ec\ud654",draft:!1,unlisted:!1,tags:[],version:"current",frontMatter:{},sidebar:"studySidebar",previous:{title:"Node.js \uc11c\ubc84 \uc694\uccad,\uc751\ub2f5",permalink:"/zora_story/docs/Node.js/Node.js \uc11c\ubc84 \uc694\uccad,\uc751\ub2f5"},next:{title:"Promise vs Async,Await",permalink:"/zora_story/docs/Node.js/Promise vs Async,Await"}},c={},a=[{value:"1. Node.js \ub0b4\ubd80 \uad6c\uc870",id:"1-nodejs-\ub0b4\ubd80-\uad6c\uc870",level:2},{value:"A. V8 \uc5d4\uc9c4",id:"a-v8-\uc5d4\uc9c4",level:4},{value:"B. \uc774\ubca4\ud2b8 \ub8e8\ud504 \uc0c1\uc138 \ub3d9\uc791",id:"b-\uc774\ubca4\ud2b8-\ub8e8\ud504-\uc0c1\uc138-\ub3d9\uc791",level:4},{value:"C. libuv",id:"c-libuv",level:4},{value:"2. \uace0\uae09 \uac1c\ub150\uacfc \uae30\ub2a5",id:"2-\uace0\uae09-\uac1c\ub150\uacfc-\uae30\ub2a5",level:2},{value:"A. \uc2a4\ud2b8\ub9bc(Streams)",id:"a-\uc2a4\ud2b8\ub9bcstreams",level:4},{value:"B. \ubc84\ud37c(Buffer)",id:"b-\ubc84\ud37cbuffer",level:4},{value:"C. \ud074\ub7ec\uc2a4\ud130(Cluster)",id:"c-\ud074\ub7ec\uc2a4\ud130cluster",level:4},{value:"3. \ub514\uc790\uc778 \ud328\ud134\uacfc Best Practices",id:"3-\ub514\uc790\uc778-\ud328\ud134\uacfc-best-practices",level:2},{value:"A. \ubbf8\ub4e4\uc6e8\uc5b4 \ud328\ud134 (Express.js \uc608\uc2dc)",id:"a-\ubbf8\ub4e4\uc6e8\uc5b4-\ud328\ud134-expressjs-\uc608\uc2dc",level:4},{value:"B. \uc5d0\ub7ec \ucc98\ub9ac",id:"b-\uc5d0\ub7ec-\ucc98\ub9ac",level:4},{value:"4. \uc131\ub2a5 \ucd5c\uc801\ud654",id:"4-\uc131\ub2a5-\ucd5c\uc801\ud654",level:2},{value:"A. \uba54\ubaa8\ub9ac \ub204\uc218 \ubc29\uc9c0",id:"a-\uba54\ubaa8\ub9ac-\ub204\uc218-\ubc29\uc9c0",level:4},{value:"B. \ud504\ub85c\ud30c\uc77c\ub9c1",id:"b-\ud504\ub85c\ud30c\uc77c\ub9c1",level:4},{value:"5. \ubcf4\uc548 Best Practices",id:"5-\ubcf4\uc548-best-practices",level:2}];function d(e){const n={blockquote:"blockquote",code:"code",h2:"h2",h4:"h4",li:"li",ol:"ol",p:"p",pre:"pre",ul:"ul",...(0,l.R)(),...e.components};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)(n.blockquote,{children:["\n",(0,r.jsx)(n.p,{children:"\uc791\uc131\uc77c : 2024.12.06"}),"\n"]}),"\n",(0,r.jsx)(n.h2,{id:"1-nodejs-\ub0b4\ubd80-\uad6c\uc870",children:"1. Node.js \ub0b4\ubd80 \uad6c\uc870"}),"\n",(0,r.jsx)(n.h4,{id:"a-v8-\uc5d4\uc9c4",children:"A. V8 \uc5d4\uc9c4"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"Google\uc774 \uac1c\ubc1c\ud55c \uace0\uc131\ub2a5 JavaScript \uc5d4\uc9c4"}),"\n",(0,r.jsx)(n.li,{children:"JavaScript \ucf54\ub4dc\ub97c \uae30\uacc4\uc5b4\ub85c \ucef4\ud30c\uc77c\ud558\uc5ec \uc2e4\ud589"}),"\n",(0,r.jsx)(n.li,{children:"JIT(Just-In-Time) \ucef4\ud30c\uc77c\ub7ec\ub97c \uc0ac\uc6a9\ud574 \uc2e4\ud589 \uc2dc\uc810\uc5d0 \ucd5c\uc801\ud654"}),"\n"]}),"\n",(0,r.jsx)(n.h4,{id:"b-\uc774\ubca4\ud2b8-\ub8e8\ud504-\uc0c1\uc138-\ub3d9\uc791",children:"B. \uc774\ubca4\ud2b8 \ub8e8\ud504 \uc0c1\uc138 \ub3d9\uc791"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-javascript",children:"// \uc774\ubca4\ud2b8 \ub8e8\ud504\uc758 \uc2e4\ud589 \uc21c\uc11c \uc608\uc2dc\nconsole.log('1'); // \ub3d9\uae30 \uc791\uc5c5\n\nsetTimeout(() => {\n    console.log('2'); // \ub9e4\ud06c\ub85c\ud0dc\uc2a4\ud06c\n}, 0);\n\nPromise.resolve()\n    .then(() => console.log('3')); // \ub9c8\uc774\ud06c\ub85c\ud0dc\uc2a4\ud06c\n\nconsole.log('4');\n\n// \ucd9c\ub825 \uc21c\uc11c: 1, 4, 3, 2\n"})}),"\n",(0,r.jsx)(n.p,{children:"\uc2e4\ud589 \uc21c\uc11c \uc124\uba85:"}),"\n",(0,r.jsxs)(n.ol,{children:["\n",(0,r.jsx)(n.li,{children:"\ucf5c \uc2a4\ud0dd\uc758 \ub3d9\uae30 \uc791\uc5c5 \uc2e4\ud589"}),"\n",(0,r.jsx)(n.li,{children:"\ub9c8\uc774\ud06c\ub85c\ud0dc\uc2a4\ud06c \ud050\uc758 \uc791\uc5c5 \uc2e4\ud589 (Promise)"}),"\n",(0,r.jsx)(n.li,{children:"\ub9e4\ud06c\ub85c\ud0dc\uc2a4\ud06c \ud050\uc758 \uc791\uc5c5 \uc2e4\ud589 (setTimeout, setInterval \ub4f1)"}),"\n"]}),"\n",(0,r.jsx)(n.h4,{id:"c-libuv",children:"C. libuv"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"Node.js\uc758 \ube44\ub3d9\uae30 I/O\ub97c \ucc98\ub9ac\ud558\ub294 \ud575\uc2ec \ub77c\uc774\ube0c\ub7ec\ub9ac"}),"\n",(0,r.jsx)(n.li,{children:"\uc774\ubca4\ud2b8 \ub8e8\ud504 \uad6c\ud604"}),"\n",(0,r.jsx)(n.li,{children:"\uc2a4\ub808\ub4dc \ud480\uc744 \ud1b5\ud55c \ud30c\uc77c \uc2dc\uc2a4\ud15c \uc791\uc5c5 \ucc98\ub9ac"}),"\n"]}),"\n",(0,r.jsx)(n.h2,{id:"2-\uace0\uae09-\uac1c\ub150\uacfc-\uae30\ub2a5",children:"2. \uace0\uae09 \uac1c\ub150\uacfc \uae30\ub2a5"}),"\n",(0,r.jsx)(n.h4,{id:"a-\uc2a4\ud2b8\ub9bcstreams",children:"A. \uc2a4\ud2b8\ub9bc(Streams)"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-javascript",children:"const fs = require('fs');\n\n// \uc77d\uae30 \uc2a4\ud2b8\ub9bc \uc0dd\uc131\nconst readStream = fs.createReadStream('input.txt');\n\n// \uc4f0\uae30 \uc2a4\ud2b8\ub9bc \uc0dd\uc131\nconst writeStream = fs.createWriteStream('output.txt');\n\n// \ud30c\uc774\ud504\ub85c \uc2a4\ud2b8\ub9bc \uc5f0\uacb0\nreadStream.pipe(writeStream);\n\n// \uc2a4\ud2b8\ub9bc \uc774\ubca4\ud2b8 \ucc98\ub9ac\nreadStream.on('data', (chunk) => {\n    console.log('\ub370\uc774\ud130 \uccad\ud06c:', chunk);\n});\n\nreadStream.on('end', () => {\n    console.log('\uc77d\uae30 \uc644\ub8cc');\n});\n"})}),"\n",(0,r.jsx)(n.h4,{id:"b-\ubc84\ud37cbuffer",children:"B. \ubc84\ud37c(Buffer)"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-javascript",children:"// \ubc84\ud37c \uc0dd\uc131\nconst buf = Buffer.from('Hello World');\n\n// \ubc84\ud37c \uc870\uc791\nconsole.log(buf.toString()); // Hello World\nconsole.log(buf.length); // 11\nconsole.log(buf[0]); // 72 (ASCII \ucf54\ub4dc)\n\n// \ubc84\ud37c \uacb0\ud569\nconst buf1 = Buffer.from('Hello ');\nconst buf2 = Buffer.from('World');\nconst buf3 = Buffer.concat([buf1, buf2]);\n"})}),"\n",(0,r.jsx)(n.h4,{id:"c-\ud074\ub7ec\uc2a4\ud130cluster",children:"C. \ud074\ub7ec\uc2a4\ud130(Cluster)"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-javascript",children:"const cluster = require('cluster');\nconst http = require('http');\nconst numCPUs = require('os').cpus().length;\n\nif (cluster.isMaster) {\n    // \ub9c8\uc2a4\ud130 \ud504\ub85c\uc138\uc2a4\n    console.log(`\ub9c8\uc2a4\ud130 \ud504\ub85c\uc138\uc2a4 ${process.pid} \uc2e4\ud589`);\n\n    // CPU \ucf54\uc5b4 \uc218\ub9cc\ud07c \uc6cc\ucee4 \uc0dd\uc131\n    for (let i = 0; i < numCPUs; i++) {\n        cluster.fork();\n    }\n\n    cluster.on('exit', (worker, code, signal) => {\n        console.log(`\uc6cc\ucee4 ${worker.process.pid} \uc885\ub8cc`);\n    });\n} else {\n    // \uc6cc\ucee4 \ud504\ub85c\uc138\uc2a4\n    http.createServer((req, res) => {\n        res.writeHead(200);\n        res.end('hello world\\n');\n    }).listen(8000);\n\n    console.log(`\uc6cc\ucee4 ${process.pid} \uc2dc\uc791`);\n}\n"})}),"\n",(0,r.jsx)(n.h2,{id:"3-\ub514\uc790\uc778-\ud328\ud134\uacfc-best-practices",children:"3. \ub514\uc790\uc778 \ud328\ud134\uacfc Best Practices"}),"\n",(0,r.jsx)(n.h4,{id:"a-\ubbf8\ub4e4\uc6e8\uc5b4-\ud328\ud134-expressjs-\uc608\uc2dc",children:"A. \ubbf8\ub4e4\uc6e8\uc5b4 \ud328\ud134 (Express.js \uc608\uc2dc)"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-javascript",children:"const express = require('express');\nconst app = express();\n\n// \ucee4\uc2a4\ud140 \ubbf8\ub4e4\uc6e8\uc5b4\nconst logger = (req, res, next) => {\n    console.log(`${req.method} ${req.url}`);\n    next();\n};\n\n// \ubbf8\ub4e4\uc6e8\uc5b4 \ub4f1\ub85d\napp.use(logger);\napp.use(express.json());\n\n// \ub77c\uc6b0\ud2b8 \ud578\ub4e4\ub7ec\napp.get('/', (req, res) => {\n    res.send('Hello World');\n});\n\napp.listen(3000);\n"})}),"\n",(0,r.jsx)(n.h4,{id:"b-\uc5d0\ub7ec-\ucc98\ub9ac",children:"B. \uc5d0\ub7ec \ucc98\ub9ac"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-javascript",children:"// \ube44\ub3d9\uae30 \uc5d0\ub7ec \ucc98\ub9ac\nprocess.on('uncaughtException', (err) => {\n    console.error('\uc608\uc0c1\uce58 \ubabb\ud55c \uc5d0\ub7ec:', err);\n    // \uc815\uc0c1\uc801\uc778 \uc885\ub8cc \ucc98\ub9ac\n    process.exit(1);\n});\n\n// Express.js \uc5d0\ub7ec \ucc98\ub9ac \ubbf8\ub4e4\uc6e8\uc5b4\napp.use((err, req, res, next) => {\n    console.error(err.stack);\n    res.status(500).send('Something broke!');\n});\n"})}),"\n",(0,r.jsx)(n.h2,{id:"4-\uc131\ub2a5-\ucd5c\uc801\ud654",children:"4. \uc131\ub2a5 \ucd5c\uc801\ud654"}),"\n",(0,r.jsx)(n.h4,{id:"a-\uba54\ubaa8\ub9ac-\ub204\uc218-\ubc29\uc9c0",children:"A. \uba54\ubaa8\ub9ac \ub204\uc218 \ubc29\uc9c0"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-javascript",children:"// \uc774\ubca4\ud2b8 \ub9ac\uc2a4\ub108 \uc81c\uac70\nconst listener = () => console.log('\uc774\ubca4\ud2b8 \ubc1c\uc0dd');\nemitter.on('event', listener);\n// \uc0ac\uc6a9 \uc644\ub8cc \ud6c4\nemitter.removeListener('event', listener);\n\n// \uce90\uc2dc \uc0ac\uc6a9\nconst cache = new Map();\nfunction getData(key) {\n    if (cache.has(key)) {\n        return cache.get(key);\n    }\n    const data = // \ub370\uc774\ud130 \uc870\ud68c\n    cache.set(key, data);\n    return data;\n}\n"})}),"\n",(0,r.jsx)(n.h4,{id:"b-\ud504\ub85c\ud30c\uc77c\ub9c1",children:"B. \ud504\ub85c\ud30c\uc77c\ub9c1"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-javascript",children:"// CPU \ud504\ub85c\ud30c\uc77c\ub9c1\nconst profiler = require('v8-profiler-next');\nprofiler.startProfiling('CPU Profile');\n\nsetTimeout(() => {\n    const profile = profiler.stopProfiling();\n    profile.export((error, result) => {\n        // \ud504\ub85c\ud30c\uc77c \ub370\uc774\ud130 \uc800\uc7a5\n    });\n}, 10000);\n"})}),"\n",(0,r.jsx)(n.h2,{id:"5-\ubcf4\uc548-best-practices",children:"5. \ubcf4\uc548 Best Practices"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-javascript",children:"// \uc785\ub825 \uac80\uc99d\nconst validator = require('validator');\n\napp.post('/api/user', (req, res) => {\n    if (!validator.isEmail(req.body.email)) {\n        return res.status(400).send('Invalid email');\n    }\n    // \ucc98\ub9ac \ub85c\uc9c1\n});\n\n// XSS \ubc29\uc9c0\nconst helmet = require('helmet');\napp.use(helmet());\n\n// Rate Limiting\nconst rateLimit = require('express-rate-limit');\napp.use(rateLimit({\n    windowMs: 15 * 60 * 1000, // 15\ubd84\n    max: 100 // IP\ub2f9 \ucd5c\ub300 \uc694\uccad \uc218\n}));\n"})})]})}function u(e={}){const{wrapper:n}={...(0,l.R)(),...e.components};return n?(0,r.jsx)(n,{...e,children:(0,r.jsx)(d,{...e})}):d(e)}},8453:(e,n,s)=>{s.d(n,{R:()=>o,x:()=>i});var r=s(6540);const l={},t=r.createContext(l);function o(e){const n=r.useContext(t);return r.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function i(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(l):e.components||l:o(e.components),r.createElement(t.Provider,{value:n},e.children)}}}]);