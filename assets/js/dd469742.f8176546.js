"use strict";(self.webpackChunkjk_story=self.webpackChunkjk_story||[]).push([[3595],{313:(e,n,t)=>{t.r(n),t.d(n,{assets:()=>l,contentTitle:()=>s,default:()=>h,frontMatter:()=>o,metadata:()=>c,toc:()=>d});var r=t(4848),i=t(8453);const o={},s=void 0,c={id:"Next.js/trouble-shooting/redirect \uad00\ub828 RuntimeError",title:"redirect \uad00\ub828 RuntimeError",description:"\uc791\uc131\uc77c : 2025.01.04",source:"@site/docs/09. Next.js/090100. trouble-shooting/090105. redirect \uad00\ub828 RuntimeError.md",sourceDirName:"09. Next.js/090100. trouble-shooting",slug:"/Next.js/trouble-shooting/redirect \uad00\ub828 RuntimeError",permalink:"/zora_story/docs/Next.js/trouble-shooting/redirect \uad00\ub828 RuntimeError",draft:!1,unlisted:!1,tags:[],version:"current",sidebarPosition:90105,frontMatter:{},sidebar:"studySidebar",previous:{title:"\ucef4\ud3ec\ub10c\ud2b8 Fetch \uc5d0\ub7ec (2)",permalink:"/zora_story/docs/next-fetch-error-2"},next:{title:"Next-Auth-\ub85c\uadf8\uc778 \uad6c\ud604 (1)",permalink:"/zora_story/docs/next-auth-1"}},l={},d=[{value:"\ubb38\uc81c \uc0c1\ud669",id:"\ubb38\uc81c-\uc0c1\ud669",level:2},{value:"\uc6d0\uc778",id:"\uc6d0\uc778",level:2},{value:"\ud574\uacb0 \ubc29\ubc95\ub4e4",id:"\ud574\uacb0-\ubc29\ubc95\ub4e4",level:2},{value:"1. Promise.reject \uc0ac\uc6a9",id:"1-promisereject-\uc0ac\uc6a9",level:3},{value:"2. navigation \ud568\uc218\ub97c \ud30c\ub77c\ubbf8\ud130\ub85c \ubc1b\uae30",id:"2-navigation-\ud568\uc218\ub97c-\ud30c\ub77c\ubbf8\ud130\ub85c-\ubc1b\uae30",level:3},{value:"3. throw redirect \uc0ac\uc6a9",id:"3-throw-redirect-\uc0ac\uc6a9",level:3},{value:"\uacb0\ub860",id:"\uacb0\ub860",level:2}];function a(e){const n={blockquote:"blockquote",code:"code",h2:"h2",h3:"h3",li:"li",ol:"ol",p:"p",pre:"pre",...(0,i.R)(),...e.components};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)(n.blockquote,{children:["\n",(0,r.jsx)(n.p,{children:"\uc791\uc131\uc77c : 2025.01.04"}),"\n"]}),"\n",(0,r.jsx)(n.h2,{id:"\ubb38\uc81c-\uc0c1\ud669",children:"\ubb38\uc81c \uc0c1\ud669"}),"\n",(0,r.jsx)(n.p,{children:"Next.js \ud504\ub85c\uc81d\ud2b8\uc5d0\uc11c 401 \uc0c1\ud0dc \ucf54\ub4dc\ub97c \ubc1b\uc558\uc744 \ub54c \ub85c\uadf8\uc778 \ud398\uc774\uc9c0\ub85c \ub9ac\ub2e4\uc774\ub809\uc158\ud558\ub294 \uc720\ud2f8\ub9ac\ud2f0 \ud568\uc218\ub97c \uad6c\ud604\ud558\ub358 \uc911 \ub2e4\uc74c\uacfc \uac19\uc740 \uc5d0\ub7ec\uac00 \ubc1c\uc0dd\ud588\uc2b5\ub2c8\ub2e4:"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-typescript",children:"// src/util/fetch.ts\nif (res.status === 401) {\n  const tokensRequest = await fetch('/api/reissue', init);\n  if (!tokensRequest.ok) return redirect('/login');  // \uc5ec\uae30\uc11c \uc5d0\ub7ec \ubc1c\uc0dd\n  ...\n}\n"})}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{children:"Unhandled Runtime Error\nError: NEXT_REDIRECT\n"})}),"\n",(0,r.jsx)(n.h2,{id:"\uc6d0\uc778",children:"\uc6d0\uc778"}),"\n",(0,r.jsx)(n.p,{children:"\uc774 \uc5d0\ub7ec\uac00 \ubc1c\uc0dd\ud55c \uc8fc\uc694 \uc6d0\uc778\uc740:"}),"\n",(0,r.jsxs)(n.ol,{children:["\n",(0,r.jsxs)(n.li,{children:["Next.js\uc758 ",(0,r.jsx)(n.code,{children:"redirect"})," \ud568\uc218\ub97c \uc77c\ubc18 \uc720\ud2f8\ub9ac\ud2f0 \ud568\uc218\uc5d0\uc11c \uc0ac\uc6a9\ud588\uae30 \ub54c\ubb38"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"redirect"}),"\ub294 \uc11c\ubc84 \ucef4\ud3ec\ub10c\ud2b8\ub098 \ud398\uc774\uc9c0 \ucef4\ud3ec\ub10c\ud2b8\uc5d0\uc11c \uc0ac\uc6a9\ub418\uc5b4\uc57c \ud568"]}),"\n"]}),"\n",(0,r.jsx)(n.h2,{id:"\ud574\uacb0-\ubc29\ubc95\ub4e4",children:"\ud574\uacb0 \ubc29\ubc95\ub4e4"}),"\n",(0,r.jsx)(n.h3,{id:"1-promisereject-\uc0ac\uc6a9",children:"1. Promise.reject \uc0ac\uc6a9"}),"\n",(0,r.jsx)(n.p,{children:"\uc720\ud2f8\ub9ac\ud2f0 \ud568\uc218\uc5d0\uc11c\ub294 \uc5d0\ub7ec\ub97c throw\ud558\uace0, \uc0c1\uc704 \ucef4\ud3ec\ub10c\ud2b8\uc5d0\uc11c redirect\ub97c \ucc98\ub9ac:"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-typescript",children:"// src/util/fetch.ts\nif (!tokensRequest.ok) {\n  return Promise.reject(new Error('UNAUTHORIZED'));\n}\n\n// \uc0ac\uc6a9\ud558\ub294 \ucef4\ud3ec\ub10c\ud2b8\uc5d0\uc11c\ntry {\n  await FetchWithJWT('/api/something');\n} catch (error) {\n  if (error.message === 'UNAUTHORIZED') {\n    redirect('/login');\n  }\n}\n"})}),"\n",(0,r.jsx)(n.h3,{id:"2-navigation-\ud568\uc218\ub97c-\ud30c\ub77c\ubbf8\ud130\ub85c-\ubc1b\uae30",children:"2. navigation \ud568\uc218\ub97c \ud30c\ub77c\ubbf8\ud130\ub85c \ubc1b\uae30"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-typescript",children:"export const FetchWithJWT = async (\n  input: RequestInfo | URL,\n  init?: RequestInit,\n  navigation?: (path: string) => void\n) => {\n  if (!tokensRequest.ok) {\n    if (navigation) {\n      navigation('/login');\n      return new Response();\n    }\n  }\n};\n\n// \uc0ac\uc6a9\ud560 \ub54c\nconst Component = () => {\n  const router = useRouter();\n  await FetchWithJWT('/api/something', {}, router.push);\n};\n"})}),"\n",(0,r.jsx)(n.h3,{id:"3-throw-redirect-\uc0ac\uc6a9",children:"3. throw redirect \uc0ac\uc6a9"}),"\n",(0,r.jsx)(n.p,{children:"Next.js 13 \uc774\uc0c1\uc5d0\uc11c\ub294 redirect\ub97c throw\ud558\uc5ec \uc0ac\uc6a9\ud560 \uc218 \uc788\uc2b5\ub2c8\ub2e4:"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-typescript",children:"import { redirect } from 'next/navigation';\n\nif (!tokensRequest.ok) {\n  throw redirect('/login');\n}\n"})}),"\n",(0,r.jsx)(n.h2,{id:"\uacb0\ub860",children:"\uacb0\ub860"}),"\n",(0,r.jsx)(n.p,{children:"Next.js\uc5d0\uc11c \ub9ac\ub2e4\uc774\ub809\uc158\uc744 \ucc98\ub9ac\ud560 \ub54c\ub294 \ud574\ub2f9 \uae30\ub2a5\uc774 \uc2e4\ud589\ub418\ub294 \ucee8\ud14d\uc2a4\ud2b8\ub97c \uc798 \uace0\ub824\ud574\uc57c \ud569\ub2c8\ub2e4. \uc77c\ubc18 \uc720\ud2f8\ub9ac\ud2f0 \ud568\uc218\uc5d0\uc11c\ub294 \uc9c1\uc811\uc801\uc778 \ub9ac\ub2e4\uc774\ub809\uc158\ubcf4\ub2e4\ub294 \uc5d0\ub7ec\ub97c throw\ud558\uace0, \uc0c1\uc704 \ucef4\ud3ec\ub10c\ud2b8\uc5d0\uc11c \uc801\uc808\ud788 \ucc98\ub9ac\ud558\ub294 \uac83\uc774 \uc88b\uc2b5\ub2c8\ub2e4."})]})}function h(e={}){const{wrapper:n}={...(0,i.R)(),...e.components};return n?(0,r.jsx)(n,{...e,children:(0,r.jsx)(a,{...e})}):a(e)}},8453:(e,n,t)=>{t.d(n,{R:()=>s,x:()=>c});var r=t(6540);const i={},o=r.createContext(i);function s(e){const n=r.useContext(o);return r.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function c(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(i):e.components||i:s(e.components),r.createElement(o.Provider,{value:n},e.children)}}}]);