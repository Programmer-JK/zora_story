"use strict";(self.webpackChunkjk_story=self.webpackChunkjk_story||[]).push([[9],{1375:(n,s,e)=>{e.r(s),e.d(s,{assets:()=>r,contentTitle:()=>i,default:()=>p,frontMatter:()=>t,metadata:()=>a,toc:()=>o});const a=JSON.parse('{"id":"Network/LAMP \uc2a4\ud0dd \uc124\uce58 \ubc0f \uad6c\uc131 \uac00\uc774\ub4dc","title":"LAMP \uc2a4\ud0dd \uc124\uce58 \ubc0f \uad6c\uc131 \uac00\uc774\ub4dc","description":"Linux, Apache(Nginx), MySQL, PHP \uc2a4\ud0dd\uc758 \uc0c1\uc138 \uc124\uce58 \ubc0f \uc124\uc815 \uac00\uc774\ub4dc","source":"@site/docs/04. Network/049909. LAMP \uc2a4\ud0dd \uc124\uce58 \ubc0f \uad6c\uc131 \uac00\uc774\ub4dc.md","sourceDirName":"04. Network","slug":"/Network/LAMP \uc2a4\ud0dd \uc124\uce58 \ubc0f \uad6c\uc131 \uac00\uc774\ub4dc","permalink":"/zora_story/docs/Network/LAMP \uc2a4\ud0dd \uc124\uce58 \ubc0f \uad6c\uc131 \uac00\uc774\ub4dc","draft":false,"unlisted":false,"tags":[{"inline":true,"label":"lamp-stack","permalink":"/zora_story/docs/tags/lamp-stack"},{"inline":true,"label":"web-server","permalink":"/zora_story/docs/tags/web-server"},{"inline":true,"label":"mysql","permalink":"/zora_story/docs/tags/mysql"},{"inline":true,"label":"php","permalink":"/zora_story/docs/tags/php"},{"inline":true,"label":"nginx","permalink":"/zora_story/docs/tags/nginx"},{"inline":true,"label":"server-configuration","permalink":"/zora_story/docs/tags/server-configuration"},{"inline":true,"label":"system-administration","permalink":"/zora_story/docs/tags/system-administration"}],"version":"current","sidebarPosition":49909,"frontMatter":{"title":"LAMP \uc2a4\ud0dd \uc124\uce58 \ubc0f \uad6c\uc131 \uac00\uc774\ub4dc","description":"Linux, Apache(Nginx), MySQL, PHP \uc2a4\ud0dd\uc758 \uc0c1\uc138 \uc124\uce58 \ubc0f \uc124\uc815 \uac00\uc774\ub4dc","tags":["lamp-stack","web-server","mysql","php","nginx","server-configuration","system-administration"],"keywords":["LAMP \uc2a4\ud0dd","\uc6f9\uc11c\ubc84 \uc124\uc815","MySQL \uc124\uc815","PHP-FPM","Nginx \uc124\uc815","\uc11c\ubc84 \ubcf4\uc548","\uc11c\ubc84 \uad00\ub9ac","\uc131\ub2a5 \ucd5c\uc801\ud654"]},"sidebar":"studySidebar","previous":{"title":"\uc2dc\uc2a4\ucf54 \uc2a4\uc704\uce58 \uc124\uc815 \uac00\uc774\ub4dc","permalink":"/zora_story/docs/Network/\uc2dc\uc2a4\ucf54 \uc2a4\uc704\uce58 \uc124\uc815 \uac00\uc774\ub4dc"},"next":{"title":"NFS(Network File System)","permalink":"/zora_story/docs/NFS"}}');var l=e(74848),c=e(28453);const t={title:"LAMP \uc2a4\ud0dd \uc124\uce58 \ubc0f \uad6c\uc131 \uac00\uc774\ub4dc",description:"Linux, Apache(Nginx), MySQL, PHP \uc2a4\ud0dd\uc758 \uc0c1\uc138 \uc124\uce58 \ubc0f \uc124\uc815 \uac00\uc774\ub4dc",tags:["lamp-stack","web-server","mysql","php","nginx","server-configuration","system-administration"],keywords:["LAMP \uc2a4\ud0dd","\uc6f9\uc11c\ubc84 \uc124\uc815","MySQL \uc124\uc815","PHP-FPM","Nginx \uc124\uc815","\uc11c\ubc84 \ubcf4\uc548","\uc11c\ubc84 \uad00\ub9ac","\uc131\ub2a5 \ucd5c\uc801\ud654"]},i=void 0,r={},o=[{value:"1. \uae30\ubcf8 \uc2dc\uc2a4\ud15c \uc900\ube44",id:"1-\uae30\ubcf8-\uc2dc\uc2a4\ud15c-\uc900\ube44",level:2},{value:"2. \uc8fc\uc694 \uad6c\uc131\uc694\uc18c \uc124\uce58",id:"2-\uc8fc\uc694-\uad6c\uc131\uc694\uc18c-\uc124\uce58",level:2},{value:"Nginx \uc6f9\uc11c\ubc84",id:"nginx-\uc6f9\uc11c\ubc84",level:3},{value:"MySQL \ub370\uc774\ud130\ubca0\uc774\uc2a4",id:"mysql-\ub370\uc774\ud130\ubca0\uc774\uc2a4",level:3},{value:"PHP \ubc0f \ubaa8\ub4c8",id:"php-\ubc0f-\ubaa8\ub4c8",level:3},{value:"3. Nginx \uad6c\uc131",id:"3-nginx-\uad6c\uc131",level:2},{value:"\uae30\ubcf8 \uc124\uc815",id:"\uae30\ubcf8-\uc124\uc815",level:3},{value:"4. MySQL \uad8c\ud55c \uad00\ub9ac",id:"4-mysql-\uad8c\ud55c-\uad00\ub9ac",level:2},{value:"\uc0ac\uc6a9\uc790 \uad00\ub9ac",id:"\uc0ac\uc6a9\uc790-\uad00\ub9ac",level:3},{value:"\uc6d0\uaca9 \uc811\uc18d \uc124\uc815",id:"\uc6d0\uaca9-\uc811\uc18d-\uc124\uc815",level:3},{value:"5. \ubcf4\uc548 \uc124\uc815",id:"5-\ubcf4\uc548-\uc124\uc815",level:2},{value:"\ud30c\uc77c \uad8c\ud55c",id:"\ud30c\uc77c-\uad8c\ud55c",level:3},{value:"\ubc29\ud654\ubcbd \uad00\ub9ac",id:"\ubc29\ud654\ubcbd-\uad00\ub9ac",level:3},{value:"6. \uc5f0\uacb0 \ud14c\uc2a4\ud2b8",id:"6-\uc5f0\uacb0-\ud14c\uc2a4\ud2b8",level:2},{value:"\uc11c\ube44\uc2a4 \uc0c1\ud0dc \ud655\uc778",id:"\uc11c\ube44\uc2a4-\uc0c1\ud0dc-\ud655\uc778",level:3},{value:"MySQL \uc5f0\uacb0 \ud14c\uc2a4\ud2b8",id:"mysql-\uc5f0\uacb0-\ud14c\uc2a4\ud2b8",level:3},{value:"7. \ubb38\uc81c \ud574\uacb0",id:"7-\ubb38\uc81c-\ud574\uacb0",level:2},{value:"8. MySQL \uc0c1\uc138 \uc124\uc815",id:"8-mysql-\uc0c1\uc138-\uc124\uc815",level:2},{value:"\uc0ac\uc6a9\uc790 \uad8c\ud55c \uad00\ub9ac",id:"\uc0ac\uc6a9\uc790-\uad8c\ud55c-\uad00\ub9ac",level:3},{value:"\ubcf4\uc548 \uc124\uc815",id:"\ubcf4\uc548-\uc124\uc815",level:3},{value:"9. PHP-FPM \uc0c1\uc138 \uc124\uc815",id:"9-php-fpm-\uc0c1\uc138-\uc124\uc815",level:2},{value:"www.conf \uc124\uc815",id:"wwwconf-\uc124\uc815",level:3},{value:"php.ini \uc8fc\uc694 \uc124\uc815",id:"phpini-\uc8fc\uc694-\uc124\uc815",level:3},{value:"10. \ubaa8\ub2c8\ud130\ub9c1 \ubc0f \ub514\ubc84\uae45",id:"10-\ubaa8\ub2c8\ud130\ub9c1-\ubc0f-\ub514\ubc84\uae45",level:2},{value:"MySQL \ubaa8\ub2c8\ud130\ub9c1",id:"mysql-\ubaa8\ub2c8\ud130\ub9c1",level:3},{value:"PHP \ubaa8\ub2c8\ud130\ub9c1",id:"php-\ubaa8\ub2c8\ud130\ub9c1",level:3},{value:"11. \uc131\ub2a5 \ucd5c\uc801\ud654",id:"11-\uc131\ub2a5-\ucd5c\uc801\ud654",level:2},{value:"MySQL \ud29c\ub2dd",id:"mysql-\ud29c\ub2dd",level:3},{value:"Nginx \ud29c\ub2dd",id:"nginx-\ud29c\ub2dd",level:3},{value:"12. SELinux \uad6c\uc131 (CentOS/RHEL)",id:"12-selinux-\uad6c\uc131-centosrhel",level:2},{value:"13. SSL/TLS \uc124\uc815",id:"13-ssltls-\uc124\uc815",level:2},{value:"Let&#39;s Encrypt \uc778\uc99d\uc11c \uc124\uce58",id:"lets-encrypt-\uc778\uc99d\uc11c-\uc124\uce58",level:3},{value:"Nginx SSL \uc124\uc815",id:"nginx-ssl-\uc124\uc815",level:3},{value:"14. \ubc31\uc5c5 \uc124\uc815",id:"14-\ubc31\uc5c5-\uc124\uc815",level:2},{value:"MySQL \ubc31\uc5c5",id:"mysql-\ubc31\uc5c5",level:3},{value:"\uc6f9 \ub370\uc774\ud130 \ubc31\uc5c5",id:"\uc6f9-\ub370\uc774\ud130-\ubc31\uc5c5",level:3},{value:"15. \ub85c\uadf8 \uad00\ub9ac",id:"15-\ub85c\uadf8-\uad00\ub9ac",level:2},{value:"\ub85c\uadf8 \uc21c\ud658 \uc124\uc815",id:"\ub85c\uadf8-\uc21c\ud658-\uc124\uc815",level:3},{value:"\ub85c\uadf8 \ubaa8\ub2c8\ud130\ub9c1",id:"\ub85c\uadf8-\ubaa8\ub2c8\ud130\ub9c1",level:3}];function d(n){const s={a:"a",blockquote:"blockquote",code:"code",h2:"h2",h3:"h3",li:"li",ol:"ol",p:"p",pre:"pre",span:"span",ul:"ul",...(0,c.R)(),...n.components};return(0,l.jsxs)(l.Fragment,{children:[(0,l.jsxs)(s.blockquote,{children:["\n",(0,l.jsx)(s.p,{children:"\uc791\uc131\uc77c : 2024.12.03"}),"\n"]}),"\n",(0,l.jsx)(s.h2,{id:"1-\uae30\ubcf8-\uc2dc\uc2a4\ud15c-\uc900\ube44",children:"1. \uae30\ubcf8 \uc2dc\uc2a4\ud15c \uc900\ube44"}),"\n",(0,l.jsx)(s.pre,{className:"language-bash",children:(0,l.jsxs)(s.code,{className:"language-bash",children:[(0,l.jsx)(s.span,{className:"token comment",children:"# \uc2dc\uc2a4\ud15c \uc5c5\ub370\uc774\ud2b8"}),"\n",(0,l.jsx)(s.span,{className:"token function",children:"sudo"})," ",(0,l.jsx)(s.span,{className:"token function",children:"apt"})," update\n",(0,l.jsx)(s.span,{className:"token function",children:"sudo"})," ",(0,l.jsx)(s.span,{className:"token function",children:"apt"})," upgrade -y\n"]})}),"\n",(0,l.jsx)(s.h2,{id:"2-\uc8fc\uc694-\uad6c\uc131\uc694\uc18c-\uc124\uce58",children:"2. \uc8fc\uc694 \uad6c\uc131\uc694\uc18c \uc124\uce58"}),"\n",(0,l.jsx)(s.h3,{id:"nginx-\uc6f9\uc11c\ubc84",children:"Nginx \uc6f9\uc11c\ubc84"}),"\n",(0,l.jsx)(s.pre,{className:"language-bash",children:(0,l.jsxs)(s.code,{className:"language-bash",children:[(0,l.jsx)(s.span,{className:"token function",children:"sudo"})," ",(0,l.jsx)(s.span,{className:"token function",children:"apt"})," ",(0,l.jsx)(s.span,{className:"token function",children:"install"})," nginx -y\n",(0,l.jsx)(s.span,{className:"token function",children:"sudo"})," systemctl start nginx\n",(0,l.jsx)(s.span,{className:"token function",children:"sudo"})," systemctl ",(0,l.jsx)(s.span,{className:"token builtin class-name",children:"enable"})," nginx\n"]})}),"\n",(0,l.jsx)(s.h3,{id:"mysql-\ub370\uc774\ud130\ubca0\uc774\uc2a4",children:"MySQL \ub370\uc774\ud130\ubca0\uc774\uc2a4"}),"\n",(0,l.jsx)(s.pre,{className:"language-bash",children:(0,l.jsxs)(s.code,{className:"language-bash",children:[(0,l.jsx)(s.span,{className:"token comment",children:"# \uc124\uce58"}),"\n",(0,l.jsx)(s.span,{className:"token function",children:"sudo"})," ",(0,l.jsx)(s.span,{className:"token function",children:"apt"})," ",(0,l.jsx)(s.span,{className:"token function",children:"install"})," mysql-server -y\n",(0,l.jsx)(s.span,{className:"token function",children:"sudo"})," systemctl start mysql\n",(0,l.jsx)(s.span,{className:"token function",children:"sudo"})," systemctl ",(0,l.jsx)(s.span,{className:"token builtin class-name",children:"enable"})," mysql\n\n",(0,l.jsx)(s.span,{className:"token comment",children:"# \ubcf4\uc548 \uc124\uc815"}),"\n",(0,l.jsx)(s.span,{className:"token function",children:"sudo"})," mysql_secure_installation\n"]})}),"\n",(0,l.jsx)(s.h3,{id:"php-\ubc0f-\ubaa8\ub4c8",children:"PHP \ubc0f \ubaa8\ub4c8"}),"\n",(0,l.jsx)(s.pre,{className:"language-bash",children:(0,l.jsxs)(s.code,{className:"language-bash",children:[(0,l.jsx)(s.span,{className:"token comment",children:"# \uae30\ubcf8 \uc124\uce58"}),"\n",(0,l.jsx)(s.span,{className:"token function",children:"sudo"})," ",(0,l.jsx)(s.span,{className:"token function",children:"apt"})," ",(0,l.jsx)(s.span,{className:"token function",children:"install"})," php-fpm php-mysql -y\n\n",(0,l.jsx)(s.span,{className:"token comment",children:"# \ucd94\uac00 \ubaa8\ub4c8"}),"\n",(0,l.jsx)(s.span,{className:"token function",children:"sudo"})," ",(0,l.jsx)(s.span,{className:"token function",children:"apt"})," ",(0,l.jsx)(s.span,{className:"token function",children:"install"})," php-curl php-gd php-intl php-mbstring php-soap php-xml php-xmlrpc php-zip -y\n\n",(0,l.jsx)(s.span,{className:"token comment",children:"# PHP-FPM \ud65c\uc131\ud654"}),"\n",(0,l.jsx)(s.span,{className:"token function",children:"sudo"})," systemctl start php8.1-fpm\n",(0,l.jsx)(s.span,{className:"token function",children:"sudo"})," systemctl ",(0,l.jsx)(s.span,{className:"token builtin class-name",children:"enable"})," php8.1-fpm\n"]})}),"\n",(0,l.jsx)(s.h2,{id:"3-nginx-\uad6c\uc131",children:"3. Nginx \uad6c\uc131"}),"\n",(0,l.jsx)(s.h3,{id:"\uae30\ubcf8-\uc124\uc815",children:"\uae30\ubcf8 \uc124\uc815"}),"\n",(0,l.jsx)(s.pre,{className:"language-nginx",children:(0,l.jsxs)(s.code,{className:"language-nginx",children:[(0,l.jsx)(s.span,{className:"token directive",children:(0,l.jsx)(s.span,{className:"token keyword",children:"server"})})," ",(0,l.jsx)(s.span,{className:"token punctuation",children:"{"}),"\n    ",(0,l.jsxs)(s.span,{className:"token directive",children:[(0,l.jsx)(s.span,{className:"token keyword",children:"listen"})," ",(0,l.jsx)(s.span,{className:"token number",children:"80"})," default_server"]}),(0,l.jsx)(s.span,{className:"token punctuation",children:";"}),"\n    ",(0,l.jsxs)(s.span,{className:"token directive",children:[(0,l.jsx)(s.span,{className:"token keyword",children:"root"})," /var/www/html"]}),(0,l.jsx)(s.span,{className:"token punctuation",children:";"}),"\n    ",(0,l.jsxs)(s.span,{className:"token directive",children:[(0,l.jsx)(s.span,{className:"token keyword",children:"index"})," index.php index.html"]}),(0,l.jsx)(s.span,{className:"token punctuation",children:";"}),"\n\n    ",(0,l.jsxs)(s.span,{className:"token directive",children:[(0,l.jsx)(s.span,{className:"token keyword",children:"location"})," /"]})," ",(0,l.jsx)(s.span,{className:"token punctuation",children:"{"}),"\n        ",(0,l.jsxs)(s.span,{className:"token directive",children:[(0,l.jsx)(s.span,{className:"token keyword",children:"try_files"})," ",(0,l.jsx)(s.span,{className:"token variable",children:"$uri"})," ",(0,l.jsx)(s.span,{className:"token variable",children:"$uri"}),"/ =404"]}),(0,l.jsx)(s.span,{className:"token punctuation",children:";"}),"\n    ",(0,l.jsx)(s.span,{className:"token punctuation",children:"}"}),"\n\n    ",(0,l.jsxs)(s.span,{className:"token directive",children:[(0,l.jsx)(s.span,{className:"token keyword",children:"location"})," ~ \\.php$"]})," ",(0,l.jsx)(s.span,{className:"token punctuation",children:"{"}),"\n        ",(0,l.jsxs)(s.span,{className:"token directive",children:[(0,l.jsx)(s.span,{className:"token keyword",children:"include"})," snippets/fastcgi-php.conf"]}),(0,l.jsx)(s.span,{className:"token punctuation",children:";"}),"\n        ",(0,l.jsxs)(s.span,{className:"token directive",children:[(0,l.jsx)(s.span,{className:"token keyword",children:"fastcgi_pass"})," unix:/var/run/php/php8.1-fpm.sock"]}),(0,l.jsx)(s.span,{className:"token punctuation",children:";"}),"\n        ",(0,l.jsxs)(s.span,{className:"token directive",children:[(0,l.jsx)(s.span,{className:"token keyword",children:"fastcgi_param"})," SCRIPT_FILENAME ",(0,l.jsx)(s.span,{className:"token variable",children:"$document_root"}),(0,l.jsx)(s.span,{className:"token variable",children:"$fastcgi_script_name"})]}),(0,l.jsx)(s.span,{className:"token punctuation",children:";"}),"\n        ",(0,l.jsxs)(s.span,{className:"token directive",children:[(0,l.jsx)(s.span,{className:"token keyword",children:"include"})," fastcgi_params"]}),(0,l.jsx)(s.span,{className:"token punctuation",children:";"}),"\n        ",(0,l.jsxs)(s.span,{className:"token directive",children:[(0,l.jsx)(s.span,{className:"token keyword",children:"fastcgi_intercept_errors"})," ",(0,l.jsx)(s.span,{className:"token boolean",children:"on"})]}),(0,l.jsx)(s.span,{className:"token punctuation",children:";"}),"\n    ",(0,l.jsx)(s.span,{className:"token punctuation",children:"}"}),"\n",(0,l.jsx)(s.span,{className:"token punctuation",children:"}"}),"\n"]})}),"\n",(0,l.jsx)(s.h2,{id:"4-mysql-\uad8c\ud55c-\uad00\ub9ac",children:"4. MySQL \uad8c\ud55c \uad00\ub9ac"}),"\n",(0,l.jsx)(s.h3,{id:"\uc0ac\uc6a9\uc790-\uad00\ub9ac",children:"\uc0ac\uc6a9\uc790 \uad00\ub9ac"}),"\n",(0,l.jsx)(s.pre,{className:"language-sql",children:(0,l.jsxs)(s.code,{className:"language-sql",children:[(0,l.jsx)(s.span,{className:"token comment",children:"-- \uc0ac\uc6a9\uc790 \uc0dd\uc131"}),"\n",(0,l.jsx)(s.span,{className:"token keyword",children:"CREATE"})," ",(0,l.jsx)(s.span,{className:"token keyword",children:"USER"})," ",(0,l.jsx)(s.span,{className:"token string",children:"'\uc0ac\uc6a9\uc790'"}),(0,l.jsx)(s.span,{className:"token variable",children:"@'localhost'"})," IDENTIFIED ",(0,l.jsx)(s.span,{className:"token keyword",children:"BY"})," ",(0,l.jsx)(s.span,{className:"token string",children:"'\ube44\ubc00\ubc88\ud638'"}),(0,l.jsx)(s.span,{className:"token punctuation",children:";"}),"\n",(0,l.jsx)(s.span,{className:"token keyword",children:"CREATE"})," ",(0,l.jsx)(s.span,{className:"token keyword",children:"USER"})," ",(0,l.jsx)(s.span,{className:"token string",children:"'\uc0ac\uc6a9\uc790'"}),(0,l.jsx)(s.span,{className:"token variable",children:"@'%'"})," IDENTIFIED ",(0,l.jsx)(s.span,{className:"token keyword",children:"BY"})," ",(0,l.jsx)(s.span,{className:"token string",children:"'\ube44\ubc00\ubc88\ud638'"}),(0,l.jsx)(s.span,{className:"token punctuation",children:";"}),"\n\n",(0,l.jsx)(s.span,{className:"token comment",children:"-- \uad8c\ud55c \ubd80\uc5ec"}),"\n",(0,l.jsx)(s.span,{className:"token keyword",children:"GRANT"})," ",(0,l.jsx)(s.span,{className:"token keyword",children:"ALL"})," ",(0,l.jsx)(s.span,{className:"token keyword",children:"PRIVILEGES"})," ",(0,l.jsx)(s.span,{className:"token keyword",children:"ON"})," \ub370\uc774\ud130\ubca0\uc774\uc2a4",(0,l.jsx)(s.span,{className:"token punctuation",children:"."}),(0,l.jsx)(s.span,{className:"token operator",children:"*"})," ",(0,l.jsx)(s.span,{className:"token keyword",children:"TO"})," ",(0,l.jsx)(s.span,{className:"token string",children:"'\uc0ac\uc6a9\uc790'"}),(0,l.jsx)(s.span,{className:"token variable",children:"@'localhost'"}),(0,l.jsx)(s.span,{className:"token punctuation",children:";"}),"\n",(0,l.jsx)(s.span,{className:"token keyword",children:"GRANT"})," ",(0,l.jsx)(s.span,{className:"token keyword",children:"SELECT"}),(0,l.jsx)(s.span,{className:"token punctuation",children:","})," ",(0,l.jsx)(s.span,{className:"token keyword",children:"INSERT"})," ",(0,l.jsx)(s.span,{className:"token keyword",children:"ON"})," \ub370\uc774\ud130\ubca0\uc774\uc2a4",(0,l.jsx)(s.span,{className:"token punctuation",children:"."}),(0,l.jsx)(s.span,{className:"token operator",children:"*"})," ",(0,l.jsx)(s.span,{className:"token keyword",children:"TO"})," ",(0,l.jsx)(s.span,{className:"token string",children:"'\uc0ac\uc6a9\uc790'"}),(0,l.jsx)(s.span,{className:"token variable",children:"@'%'"}),(0,l.jsx)(s.span,{className:"token punctuation",children:";"}),"\n\n",(0,l.jsx)(s.span,{className:"token comment",children:"-- \uad8c\ud55c \uc801\uc6a9"}),"\nFLUSH ",(0,l.jsx)(s.span,{className:"token keyword",children:"PRIVILEGES"}),(0,l.jsx)(s.span,{className:"token punctuation",children:";"}),"\n"]})}),"\n",(0,l.jsx)(s.h3,{id:"\uc6d0\uaca9-\uc811\uc18d-\uc124\uc815",children:"\uc6d0\uaca9 \uc811\uc18d \uc124\uc815"}),"\n",(0,l.jsx)(s.pre,{className:"language-bash",children:(0,l.jsxs)(s.code,{className:"language-bash",children:[(0,l.jsx)(s.span,{className:"token comment",children:"# MySQL \uc124\uc815"}),"\nbind-address ",(0,l.jsx)(s.span,{className:"token operator",children:"="})," ",(0,l.jsx)(s.span,{className:"token number",children:"0.0"}),".0.0\n\n",(0,l.jsx)(s.span,{className:"token comment",children:"# \ubc29\ud654\ubcbd \uc124\uc815"}),"\n",(0,l.jsx)(s.span,{className:"token function",children:"sudo"})," ufw allow ",(0,l.jsx)(s.span,{className:"token number",children:"3306"}),"/tcp\n"]})}),"\n",(0,l.jsx)(s.h2,{id:"5-\ubcf4\uc548-\uc124\uc815",children:"5. \ubcf4\uc548 \uc124\uc815"}),"\n",(0,l.jsx)(s.h3,{id:"\ud30c\uc77c-\uad8c\ud55c",children:"\ud30c\uc77c \uad8c\ud55c"}),"\n",(0,l.jsx)(s.pre,{className:"language-bash",children:(0,l.jsxs)(s.code,{className:"language-bash",children:[(0,l.jsx)(s.span,{className:"token function",children:"sudo"})," ",(0,l.jsx)(s.span,{className:"token function",children:"chown"})," -R www-data:www-data /var/www/html\n",(0,l.jsx)(s.span,{className:"token function",children:"sudo"})," ",(0,l.jsx)(s.span,{className:"token function",children:"chmod"})," -R ",(0,l.jsx)(s.span,{className:"token number",children:"755"})," /var/www/html\n"]})}),"\n",(0,l.jsx)(s.h3,{id:"\ubc29\ud654\ubcbd-\uad00\ub9ac",children:"\ubc29\ud654\ubcbd \uad00\ub9ac"}),"\n",(0,l.jsx)(s.pre,{className:"language-bash",children:(0,l.jsxs)(s.code,{className:"language-bash",children:[(0,l.jsx)(s.span,{className:"token comment",children:"# Ubuntu/Debian"}),"\n",(0,l.jsx)(s.span,{className:"token function",children:"sudo"})," ufw status\n",(0,l.jsx)(s.span,{className:"token function",children:"sudo"})," ufw allow ",(0,l.jsx)(s.span,{className:"token number",children:"80"}),"/tcp\n",(0,l.jsx)(s.span,{className:"token function",children:"sudo"})," ufw allow ",(0,l.jsx)(s.span,{className:"token number",children:"443"}),"/tcp\n\n",(0,l.jsx)(s.span,{className:"token comment",children:"# CentOS/RHEL"}),"\n",(0,l.jsx)(s.span,{className:"token function",children:"sudo"})," firewall-cmd --list-all\n",(0,l.jsx)(s.span,{className:"token function",children:"sudo"})," firewall-cmd --permanent --add-service",(0,l.jsx)(s.span,{className:"token operator",children:"="}),"http\n",(0,l.jsx)(s.span,{className:"token function",children:"sudo"})," firewall-cmd --permanent --add-service",(0,l.jsx)(s.span,{className:"token operator",children:"="}),"https\n",(0,l.jsx)(s.span,{className:"token function",children:"sudo"})," firewall-cmd --reload\n"]})}),"\n",(0,l.jsx)(s.h2,{id:"6-\uc5f0\uacb0-\ud14c\uc2a4\ud2b8",children:"6. \uc5f0\uacb0 \ud14c\uc2a4\ud2b8"}),"\n",(0,l.jsx)(s.h3,{id:"\uc11c\ube44\uc2a4-\uc0c1\ud0dc-\ud655\uc778",children:"\uc11c\ube44\uc2a4 \uc0c1\ud0dc \ud655\uc778"}),"\n",(0,l.jsx)(s.pre,{className:"language-bash",children:(0,l.jsxs)(s.code,{className:"language-bash",children:[(0,l.jsx)(s.span,{className:"token comment",children:"# \uc6f9\uc11c\ubc84"}),"\n",(0,l.jsx)(s.span,{className:"token function",children:"sudo"})," nginx -t\n",(0,l.jsx)(s.span,{className:"token function",children:"sudo"})," systemctl status nginx\n\n",(0,l.jsx)(s.span,{className:"token comment",children:"# PHP"}),"\n",(0,l.jsx)(s.span,{className:"token function",children:"sudo"})," systemctl status php8.1-fpm\n\n",(0,l.jsx)(s.span,{className:"token comment",children:"# MySQL"}),"\n",(0,l.jsx)(s.span,{className:"token function",children:"sudo"})," systemctl status mysql\n"]})}),"\n",(0,l.jsx)(s.h3,{id:"mysql-\uc5f0\uacb0-\ud14c\uc2a4\ud2b8",children:"MySQL \uc5f0\uacb0 \ud14c\uc2a4\ud2b8"}),"\n",(0,l.jsx)(s.pre,{className:"language-bash",children:(0,l.jsxs)(s.code,{className:"language-bash",children:[(0,l.jsx)(s.span,{className:"token comment",children:"# \ub85c\uceec \ud14c\uc2a4\ud2b8"}),"\nmysql -u root -p\n\n",(0,l.jsx)(s.span,{className:"token comment",children:"# \uc6d0\uaca9 \ud14c\uc2a4\ud2b8"}),"\ntelnet \uc11c\ubc84IP ",(0,l.jsx)(s.span,{className:"token number",children:"3306"}),"\n",(0,l.jsx)(s.span,{className:"token function",children:"nc"})," -zv \uc11c\ubc84IP ",(0,l.jsx)(s.span,{className:"token number",children:"3306"}),"\n"]})}),"\n",(0,l.jsx)(s.h2,{id:"7-\ubb38\uc81c-\ud574\uacb0",children:"7. \ubb38\uc81c \ud574\uacb0"}),"\n",(0,l.jsxs)(s.ol,{children:["\n",(0,l.jsxs)(s.li,{children:["\n",(0,l.jsx)(s.p,{children:"\ub85c\uadf8 \ud655\uc778"}),"\n",(0,l.jsxs)(s.ul,{children:["\n",(0,l.jsxs)(s.li,{children:["Nginx: ",(0,l.jsx)(s.code,{children:"/var/log/nginx/error.log"})]}),"\n",(0,l.jsxs)(s.li,{children:["PHP: ",(0,l.jsx)(s.code,{children:"/var/log/php8.1-fpm.log"})]}),"\n",(0,l.jsxs)(s.li,{children:["MySQL: ",(0,l.jsx)(s.code,{children:"/var/log/mysql/error.log"})]}),"\n"]}),"\n"]}),"\n",(0,l.jsxs)(s.li,{children:["\n",(0,l.jsx)(s.p,{children:"\uad8c\ud55c \ubb38\uc81c"}),"\n",(0,l.jsxs)(s.ul,{children:["\n",(0,l.jsx)(s.li,{children:"\ud30c\uc77c \uc18c\uc720\uad8c \uc7ac\uc124\uc815"}),"\n",(0,l.jsx)(s.li,{children:"SELinux \uc124\uc815 \ud655\uc778 (CentOS)"}),"\n"]}),"\n"]}),"\n",(0,l.jsxs)(s.li,{children:["\n",(0,l.jsx)(s.p,{children:"\ubc29\ud654\ubcbd \uc774\uc288"}),"\n",(0,l.jsxs)(s.ul,{children:["\n",(0,l.jsx)(s.li,{children:"\ud3ec\ud2b8 \uc0c1\ud0dc \ud655\uc778"}),"\n",(0,l.jsx)(s.li,{children:"iptables \uaddc\uce59 \uac80\uc99d"}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,l.jsx)(s.h2,{id:"8-mysql-\uc0c1\uc138-\uc124\uc815",children:"8. MySQL \uc0c1\uc138 \uc124\uc815"}),"\n",(0,l.jsx)(s.h3,{id:"\uc0ac\uc6a9\uc790-\uad8c\ud55c-\uad00\ub9ac",children:"\uc0ac\uc6a9\uc790 \uad8c\ud55c \uad00\ub9ac"}),"\n",(0,l.jsx)(s.pre,{className:"language-sql",children:(0,l.jsxs)(s.code,{className:"language-sql",children:[(0,l.jsx)(s.span,{className:"token comment",children:"-- \uad8c\ud55c \uc870\ud68c"}),"\n",(0,l.jsx)(s.span,{className:"token keyword",children:"SHOW"})," GRANTS ",(0,l.jsx)(s.span,{className:"token keyword",children:"FOR"})," ",(0,l.jsx)(s.span,{className:"token string",children:"'\uc0ac\uc6a9\uc790'"}),(0,l.jsx)(s.span,{className:"token variable",children:"@'localhost'"}),(0,l.jsx)(s.span,{className:"token punctuation",children:";"}),"\n",(0,l.jsx)(s.span,{className:"token keyword",children:"SELECT"})," ",(0,l.jsx)(s.span,{className:"token keyword",children:"user"}),(0,l.jsx)(s.span,{className:"token punctuation",children:","})," host ",(0,l.jsx)(s.span,{className:"token keyword",children:"FROM"})," mysql",(0,l.jsx)(s.span,{className:"token punctuation",children:"."}),(0,l.jsx)(s.span,{className:"token keyword",children:"user"}),(0,l.jsx)(s.span,{className:"token punctuation",children:";"}),"\n\n",(0,l.jsx)(s.span,{className:"token comment",children:"-- \ube44\ubc00\ubc88\ud638 \ubcc0\uacbd"}),"\n",(0,l.jsx)(s.span,{className:"token keyword",children:"ALTER"})," ",(0,l.jsx)(s.span,{className:"token keyword",children:"USER"})," ",(0,l.jsx)(s.span,{className:"token string",children:"'\uc0ac\uc6a9\uc790'"}),(0,l.jsx)(s.span,{className:"token variable",children:"@'localhost'"})," IDENTIFIED ",(0,l.jsx)(s.span,{className:"token keyword",children:"BY"})," ",(0,l.jsx)(s.span,{className:"token string",children:"'\uc0c8\ube44\ubc00\ubc88\ud638'"}),(0,l.jsx)(s.span,{className:"token punctuation",children:";"}),"\n\n",(0,l.jsx)(s.span,{className:"token comment",children:"-- \ubd88\ud544\uc694\ud55c \uacc4\uc815 \uc815\ub9ac"}),"\n",(0,l.jsx)(s.span,{className:"token keyword",children:"DELETE"})," ",(0,l.jsx)(s.span,{className:"token keyword",children:"FROM"})," mysql",(0,l.jsx)(s.span,{className:"token punctuation",children:"."}),(0,l.jsx)(s.span,{className:"token keyword",children:"user"}),"\n",(0,l.jsx)(s.span,{className:"token keyword",children:"WHERE"})," ",(0,l.jsx)(s.span,{className:"token operator",children:"NOT"})," ",(0,l.jsx)(s.span,{className:"token punctuation",children:"("}),(0,l.jsx)(s.span,{className:"token keyword",children:"user"})," ",(0,l.jsx)(s.span,{className:"token operator",children:"="})," ",(0,l.jsx)(s.span,{className:"token string",children:"'\ubcf4\uc874\ud560\uc0ac\uc6a9\uc790'"})," ",(0,l.jsx)(s.span,{className:"token operator",children:"AND"})," host ",(0,l.jsx)(s.span,{className:"token operator",children:"="})," ",(0,l.jsx)(s.span,{className:"token string",children:"'\ubcf4\uc874\ud560\ud638\uc2a4\ud2b8'"}),(0,l.jsx)(s.span,{className:"token punctuation",children:")"}),"\n  ",(0,l.jsx)(s.span,{className:"token operator",children:"AND"})," ",(0,l.jsx)(s.span,{className:"token keyword",children:"user"})," ",(0,l.jsx)(s.span,{className:"token operator",children:"!="})," ",(0,l.jsx)(s.span,{className:"token string",children:"'root'"}),(0,l.jsx)(s.span,{className:"token punctuation",children:";"}),"\n"]})}),"\n",(0,l.jsx)(s.h3,{id:"\ubcf4\uc548-\uc124\uc815",children:"\ubcf4\uc548 \uc124\uc815"}),"\n",(0,l.jsx)(s.pre,{className:"language-sql",children:(0,l.jsxs)(s.code,{className:"language-sql",children:[(0,l.jsx)(s.span,{className:"token comment",children:"-- \uc6d0\uaca9 root \ub85c\uadf8\uc778 \ube44\ud65c\uc131\ud654"}),"\n",(0,l.jsx)(s.span,{className:"token keyword",children:"DELETE"})," ",(0,l.jsx)(s.span,{className:"token keyword",children:"FROM"})," mysql",(0,l.jsx)(s.span,{className:"token punctuation",children:"."}),(0,l.jsx)(s.span,{className:"token keyword",children:"user"})," ",(0,l.jsx)(s.span,{className:"token keyword",children:"WHERE"})," ",(0,l.jsx)(s.span,{className:"token keyword",children:"User"}),(0,l.jsx)(s.span,{className:"token operator",children:"="}),(0,l.jsx)(s.span,{className:"token string",children:"'root'"})," ",(0,l.jsx)(s.span,{className:"token operator",children:"AND"})," Host ",(0,l.jsx)(s.span,{className:"token operator",children:"NOT"})," ",(0,l.jsx)(s.span,{className:"token operator",children:"IN"})," ",(0,l.jsx)(s.span,{className:"token punctuation",children:"("}),(0,l.jsx)(s.span,{className:"token string",children:"'localhost'"}),(0,l.jsx)(s.span,{className:"token punctuation",children:","})," ",(0,l.jsx)(s.span,{className:"token string",children:"'127.0.0.1'"}),(0,l.jsx)(s.span,{className:"token punctuation",children:","})," ",(0,l.jsx)(s.span,{className:"token string",children:"'::1'"}),(0,l.jsx)(s.span,{className:"token punctuation",children:")"}),(0,l.jsx)(s.span,{className:"token punctuation",children:";"}),"\n\n",(0,l.jsx)(s.span,{className:"token comment",children:"-- \uc775\uba85 \uc0ac\uc6a9\uc790 \uc81c\uac70"}),"\n",(0,l.jsx)(s.span,{className:"token keyword",children:"DELETE"})," ",(0,l.jsx)(s.span,{className:"token keyword",children:"FROM"})," mysql",(0,l.jsx)(s.span,{className:"token punctuation",children:"."}),(0,l.jsx)(s.span,{className:"token keyword",children:"user"})," ",(0,l.jsx)(s.span,{className:"token keyword",children:"WHERE"})," ",(0,l.jsx)(s.span,{className:"token keyword",children:"User"}),(0,l.jsx)(s.span,{className:"token operator",children:"="}),(0,l.jsx)(s.span,{className:"token string",children:"''"}),(0,l.jsx)(s.span,{className:"token punctuation",children:";"}),"\n\n",(0,l.jsx)(s.span,{className:"token comment",children:"-- test \ub370\uc774\ud130\ubca0\uc774\uc2a4 \uc81c\uac70"}),"\n",(0,l.jsx)(s.span,{className:"token keyword",children:"DROP"})," ",(0,l.jsx)(s.span,{className:"token keyword",children:"DATABASE"})," ",(0,l.jsx)(s.span,{className:"token keyword",children:"IF"})," ",(0,l.jsx)(s.span,{className:"token keyword",children:"EXISTS"})," test",(0,l.jsx)(s.span,{className:"token punctuation",children:";"}),"\n"]})}),"\n",(0,l.jsx)(s.h2,{id:"9-php-fpm-\uc0c1\uc138-\uc124\uc815",children:"9. PHP-FPM \uc0c1\uc138 \uc124\uc815"}),"\n",(0,l.jsxs)(s.h3,{id:"wwwconf-\uc124\uc815",children:[(0,l.jsx)(s.a,{href:"http://www.conf",children:"www.conf"})," \uc124\uc815"]}),"\n",(0,l.jsx)(s.pre,{className:"language-ini",children:(0,l.jsxs)(s.code,{className:"language-ini",children:[(0,l.jsx)(s.span,{className:"token comment",children:"# /etc/php/8.1/fpm/pool.d/www.conf"}),"\n",(0,l.jsxs)(s.span,{className:"token section",children:[(0,l.jsx)(s.span,{className:"token punctuation",children:"["}),(0,l.jsx)(s.span,{className:"token section-name selector",children:"www"}),(0,l.jsx)(s.span,{className:"token punctuation",children:"]"})]}),"\n",(0,l.jsx)(s.span,{className:"token key attr-name",children:"user"})," ",(0,l.jsx)(s.span,{className:"token punctuation",children:"="})," ",(0,l.jsx)(s.span,{className:"token value attr-value",children:"www-data"}),"\n",(0,l.jsx)(s.span,{className:"token key attr-name",children:"group"})," ",(0,l.jsx)(s.span,{className:"token punctuation",children:"="})," ",(0,l.jsx)(s.span,{className:"token value attr-value",children:"www-data"}),"\n",(0,l.jsx)(s.span,{className:"token key attr-name",children:"listen"})," ",(0,l.jsx)(s.span,{className:"token punctuation",children:"="})," ",(0,l.jsx)(s.span,{className:"token value attr-value",children:"/var/run/php/php8.1-fpm.sock"}),"\n",(0,l.jsx)(s.span,{className:"token key attr-name",children:"listen.owner"})," ",(0,l.jsx)(s.span,{className:"token punctuation",children:"="})," ",(0,l.jsx)(s.span,{className:"token value attr-value",children:"www-data"}),"\n",(0,l.jsx)(s.span,{className:"token key attr-name",children:"listen.group"})," ",(0,l.jsx)(s.span,{className:"token punctuation",children:"="})," ",(0,l.jsx)(s.span,{className:"token value attr-value",children:"www-data"}),"\n",(0,l.jsx)(s.span,{className:"token key attr-name",children:"listen.mode"})," ",(0,l.jsx)(s.span,{className:"token punctuation",children:"="})," ",(0,l.jsx)(s.span,{className:"token value attr-value",children:"0660"}),"\n\n",(0,l.jsx)(s.span,{className:"token comment",children:"# \ud504\ub85c\uc138\uc2a4 \uad00\ub9ac"}),"\n",(0,l.jsx)(s.span,{className:"token key attr-name",children:"pm"})," ",(0,l.jsx)(s.span,{className:"token punctuation",children:"="})," ",(0,l.jsx)(s.span,{className:"token value attr-value",children:"dynamic"}),"\n",(0,l.jsx)(s.span,{className:"token key attr-name",children:"pm.max_children"})," ",(0,l.jsx)(s.span,{className:"token punctuation",children:"="})," ",(0,l.jsx)(s.span,{className:"token value attr-value",children:"5"}),"\n",(0,l.jsx)(s.span,{className:"token key attr-name",children:"pm.start_servers"})," ",(0,l.jsx)(s.span,{className:"token punctuation",children:"="})," ",(0,l.jsx)(s.span,{className:"token value attr-value",children:"2"}),"\n",(0,l.jsx)(s.span,{className:"token key attr-name",children:"pm.min_spare_servers"})," ",(0,l.jsx)(s.span,{className:"token punctuation",children:"="})," ",(0,l.jsx)(s.span,{className:"token value attr-value",children:"1"}),"\n",(0,l.jsx)(s.span,{className:"token key attr-name",children:"pm.max_spare_servers"})," ",(0,l.jsx)(s.span,{className:"token punctuation",children:"="})," ",(0,l.jsx)(s.span,{className:"token value attr-value",children:"3"}),"\n"]})}),"\n",(0,l.jsx)(s.h3,{id:"phpini-\uc8fc\uc694-\uc124\uc815",children:"php.ini \uc8fc\uc694 \uc124\uc815"}),"\n",(0,l.jsx)(s.pre,{className:"language-ini",children:(0,l.jsxs)(s.code,{className:"language-ini",children:[(0,l.jsx)(s.span,{className:"token comment",children:"# /etc/php/8.1/fpm/php.ini"}),"\n",(0,l.jsx)(s.span,{className:"token key attr-name",children:"memory_limit"})," ",(0,l.jsx)(s.span,{className:"token punctuation",children:"="})," ",(0,l.jsx)(s.span,{className:"token value attr-value",children:"256M"}),"\n",(0,l.jsx)(s.span,{className:"token key attr-name",children:"upload_max_filesize"})," ",(0,l.jsx)(s.span,{className:"token punctuation",children:"="})," ",(0,l.jsx)(s.span,{className:"token value attr-value",children:"64M"}),"\n",(0,l.jsx)(s.span,{className:"token key attr-name",children:"post_max_size"})," ",(0,l.jsx)(s.span,{className:"token punctuation",children:"="})," ",(0,l.jsx)(s.span,{className:"token value attr-value",children:"64M"}),"\n",(0,l.jsx)(s.span,{className:"token key attr-name",children:"max_execution_time"})," ",(0,l.jsx)(s.span,{className:"token punctuation",children:"="})," ",(0,l.jsx)(s.span,{className:"token value attr-value",children:"300"}),"\n",(0,l.jsx)(s.span,{className:"token key attr-name",children:"max_input_time"})," ",(0,l.jsx)(s.span,{className:"token punctuation",children:"="})," ",(0,l.jsx)(s.span,{className:"token value attr-value",children:"300"}),"\n",(0,l.jsx)(s.span,{className:"token key attr-name",children:"display_errors"})," ",(0,l.jsx)(s.span,{className:"token punctuation",children:"="})," ",(0,l.jsx)(s.span,{className:"token value attr-value",children:"Off"}),"\n",(0,l.jsx)(s.span,{className:"token key attr-name",children:"error_reporting"})," ",(0,l.jsx)(s.span,{className:"token punctuation",children:"="})," ",(0,l.jsx)(s.span,{className:"token value attr-value",children:"E_ALL & ~E_DEPRECATED & ~E_STRICT"}),"\n"]})}),"\n",(0,l.jsx)(s.h2,{id:"10-\ubaa8\ub2c8\ud130\ub9c1-\ubc0f-\ub514\ubc84\uae45",children:"10. \ubaa8\ub2c8\ud130\ub9c1 \ubc0f \ub514\ubc84\uae45"}),"\n",(0,l.jsx)(s.h3,{id:"mysql-\ubaa8\ub2c8\ud130\ub9c1",children:"MySQL \ubaa8\ub2c8\ud130\ub9c1"}),"\n",(0,l.jsx)(s.pre,{className:"language-sql",children:(0,l.jsxs)(s.code,{className:"language-sql",children:[(0,l.jsx)(s.span,{className:"token comment",children:"-- \ud604\uc7ac \uc5f0\uacb0 \uc0c1\ud0dc"}),"\n",(0,l.jsx)(s.span,{className:"token keyword",children:"SHOW"})," PROCESSLIST",(0,l.jsx)(s.span,{className:"token punctuation",children:";"}),"\n\n",(0,l.jsx)(s.span,{className:"token comment",children:"-- \uc2dc\uc2a4\ud15c \ubcc0\uc218 \ud655\uc778"}),"\n",(0,l.jsx)(s.span,{className:"token keyword",children:"SHOW"})," VARIABLES ",(0,l.jsx)(s.span,{className:"token operator",children:"LIKE"})," ",(0,l.jsx)(s.span,{className:"token string",children:"'%max_connections%'"}),(0,l.jsx)(s.span,{className:"token punctuation",children:";"}),"\n",(0,l.jsx)(s.span,{className:"token keyword",children:"SHOW"})," VARIABLES ",(0,l.jsx)(s.span,{className:"token operator",children:"LIKE"})," ",(0,l.jsx)(s.span,{className:"token string",children:"'%timeout%'"}),(0,l.jsx)(s.span,{className:"token punctuation",children:";"}),"\n\n",(0,l.jsx)(s.span,{className:"token comment",children:"-- \uc0c1\ud0dc \ud655\uc778"}),"\n",(0,l.jsx)(s.span,{className:"token keyword",children:"SHOW"})," ",(0,l.jsx)(s.span,{className:"token keyword",children:"STATUS"})," ",(0,l.jsx)(s.span,{className:"token operator",children:"LIKE"})," ",(0,l.jsx)(s.span,{className:"token string",children:"'Threads%'"}),(0,l.jsx)(s.span,{className:"token punctuation",children:";"}),"\n",(0,l.jsx)(s.span,{className:"token keyword",children:"SHOW"})," ",(0,l.jsx)(s.span,{className:"token keyword",children:"STATUS"})," ",(0,l.jsx)(s.span,{className:"token operator",children:"LIKE"})," ",(0,l.jsx)(s.span,{className:"token string",children:"'Questions'"}),(0,l.jsx)(s.span,{className:"token punctuation",children:";"}),"\n"]})}),"\n",(0,l.jsx)(s.h3,{id:"php-\ubaa8\ub2c8\ud130\ub9c1",children:"PHP \ubaa8\ub2c8\ud130\ub9c1"}),"\n",(0,l.jsx)(s.pre,{className:"language-bash",children:(0,l.jsxs)(s.code,{className:"language-bash",children:[(0,l.jsx)(s.span,{className:"token comment",children:"# PHP-FPM \uc0c1\ud0dc \ud398\uc774\uc9c0 \uc124\uc815"}),"\nlocation /status ",(0,l.jsx)(s.span,{className:"token punctuation",children:"{"}),"\n    access_log off",(0,l.jsx)(s.span,{className:"token punctuation",children:";"}),"\n    allow ",(0,l.jsx)(s.span,{className:"token number",children:"127.0"}),".0.1",(0,l.jsx)(s.span,{className:"token punctuation",children:";"}),"\n    deny all",(0,l.jsx)(s.span,{className:"token punctuation",children:";"}),"\n    include fastcgi_params",(0,l.jsx)(s.span,{className:"token punctuation",children:";"}),"\n    fastcgi_param SCRIPT_NAME ",(0,l.jsx)(s.span,{className:"token variable",children:"$uri"}),(0,l.jsx)(s.span,{className:"token punctuation",children:";"}),"\n    fastcgi_pass unix:/var/run/php/php8.1-fpm.sock",(0,l.jsx)(s.span,{className:"token punctuation",children:";"}),"\n",(0,l.jsx)(s.span,{className:"token punctuation",children:"}"}),"\n"]})}),"\n",(0,l.jsx)(s.h2,{id:"11-\uc131\ub2a5-\ucd5c\uc801\ud654",children:"11. \uc131\ub2a5 \ucd5c\uc801\ud654"}),"\n",(0,l.jsx)(s.h3,{id:"mysql-\ud29c\ub2dd",children:"MySQL \ud29c\ub2dd"}),"\n",(0,l.jsx)(s.pre,{className:"language-ini",children:(0,l.jsxs)(s.code,{className:"language-ini",children:[(0,l.jsx)(s.span,{className:"token comment",children:"# /etc/mysql/my.cnf"}),"\n",(0,l.jsx)(s.span,{className:"token key attr-name",children:"innodb_buffer_pool_size"})," ",(0,l.jsx)(s.span,{className:"token punctuation",children:"="})," ",(0,l.jsx)(s.span,{className:"token value attr-value",children:"1G"}),"\n",(0,l.jsx)(s.span,{className:"token key attr-name",children:"innodb_log_file_size"})," ",(0,l.jsx)(s.span,{className:"token punctuation",children:"="})," ",(0,l.jsx)(s.span,{className:"token value attr-value",children:"256M"}),"\n",(0,l.jsx)(s.span,{className:"token key attr-name",children:"innodb_flush_log_at_trx_commit"})," ",(0,l.jsx)(s.span,{className:"token punctuation",children:"="})," ",(0,l.jsx)(s.span,{className:"token value attr-value",children:"2"}),"\n",(0,l.jsx)(s.span,{className:"token key attr-name",children:"innodb_flush_method"})," ",(0,l.jsx)(s.span,{className:"token punctuation",children:"="})," ",(0,l.jsx)(s.span,{className:"token value attr-value",children:"O_DIRECT"}),"\n"]})}),"\n",(0,l.jsx)(s.h3,{id:"nginx-\ud29c\ub2dd",children:"Nginx \ud29c\ub2dd"}),"\n",(0,l.jsx)(s.pre,{className:"language-nginx",children:(0,l.jsxs)(s.code,{className:"language-nginx",children:[(0,l.jsx)(s.span,{className:"token comment",children:"# worker_processes \uc124\uc815"}),"\n",(0,l.jsxs)(s.span,{className:"token directive",children:[(0,l.jsx)(s.span,{className:"token keyword",children:"worker_processes"})," auto"]}),(0,l.jsx)(s.span,{className:"token punctuation",children:";"}),"\n\n",(0,l.jsx)(s.span,{className:"token comment",children:"# \ubc84\ud37c \uc124\uc815"}),"\n",(0,l.jsxs)(s.span,{className:"token directive",children:[(0,l.jsx)(s.span,{className:"token keyword",children:"client_max_body_size"})," ",(0,l.jsx)(s.span,{className:"token number",children:"64m"})]}),(0,l.jsx)(s.span,{className:"token punctuation",children:";"}),"\n",(0,l.jsxs)(s.span,{className:"token directive",children:[(0,l.jsx)(s.span,{className:"token keyword",children:"client_body_buffer_size"})," ",(0,l.jsx)(s.span,{className:"token number",children:"128k"})]}),(0,l.jsx)(s.span,{className:"token punctuation",children:";"}),"\n",(0,l.jsxs)(s.span,{className:"token directive",children:[(0,l.jsx)(s.span,{className:"token keyword",children:"client_header_buffer_size"})," ",(0,l.jsx)(s.span,{className:"token number",children:"1k"})]}),(0,l.jsx)(s.span,{className:"token punctuation",children:";"}),"\n\n",(0,l.jsx)(s.span,{className:"token comment",children:"# Gzip \uc555\ucd95"}),"\n",(0,l.jsxs)(s.span,{className:"token directive",children:[(0,l.jsx)(s.span,{className:"token keyword",children:"gzip"})," ",(0,l.jsx)(s.span,{className:"token boolean",children:"on"})]}),(0,l.jsx)(s.span,{className:"token punctuation",children:";"}),"\n",(0,l.jsxs)(s.span,{className:"token directive",children:[(0,l.jsx)(s.span,{className:"token keyword",children:"gzip_comp_level"})," ",(0,l.jsx)(s.span,{className:"token number",children:"5"})]}),(0,l.jsx)(s.span,{className:"token punctuation",children:";"}),"\n",(0,l.jsxs)(s.span,{className:"token directive",children:[(0,l.jsx)(s.span,{className:"token keyword",children:"gzip_types"})," text/plain text/css application/json application/javascript"]}),(0,l.jsx)(s.span,{className:"token punctuation",children:";"}),"\n"]})}),"\n",(0,l.jsx)(s.h2,{id:"12-selinux-\uad6c\uc131-centosrhel",children:"12. SELinux \uad6c\uc131 (CentOS/RHEL)"}),"\n",(0,l.jsx)(s.pre,{className:"language-bash",children:(0,l.jsxs)(s.code,{className:"language-bash",children:[(0,l.jsx)(s.span,{className:"token comment",children:"# SELinux \uc0c1\ud0dc \ud655\uc778"}),"\nsestatus\n\n",(0,l.jsx)(s.span,{className:"token comment",children:"# \uc6f9 \ub514\ub809\ud1a0\ub9ac \ucee8\ud14d\uc2a4\ud2b8 \uc124\uc815"}),"\nchcon -R -t httpd_sys_content_t /var/www/html/\nchcon -R -t httpd_sys_rw_content_t /var/www/html/writable_dir/\n\n",(0,l.jsx)(s.span,{className:"token comment",children:"# MySQL \uad00\ub828 \uc124\uc815"}),"\nsetsebool -P httpd_can_network_connect_db ",(0,l.jsx)(s.span,{className:"token number",children:"1"}),"\nsetsebool -P httpd_can_network_connect ",(0,l.jsx)(s.span,{className:"token number",children:"1"}),"\n"]})}),"\n",(0,l.jsx)(s.h2,{id:"13-ssltls-\uc124\uc815",children:"13. SSL/TLS \uc124\uc815"}),"\n",(0,l.jsx)(s.h3,{id:"lets-encrypt-\uc778\uc99d\uc11c-\uc124\uce58",children:"Let's Encrypt \uc778\uc99d\uc11c \uc124\uce58"}),"\n",(0,l.jsx)(s.pre,{className:"language-bash",children:(0,l.jsxs)(s.code,{className:"language-bash",children:[(0,l.jsx)(s.span,{className:"token comment",children:"# Certbot \uc124\uce58"}),"\n",(0,l.jsx)(s.span,{className:"token function",children:"sudo"})," ",(0,l.jsx)(s.span,{className:"token function",children:"apt"})," ",(0,l.jsx)(s.span,{className:"token function",children:"install"})," certbot python3-certbot-nginx\n\n",(0,l.jsx)(s.span,{className:"token comment",children:"# \uc778\uc99d\uc11c \ubc1c\uae09"}),"\n",(0,l.jsx)(s.span,{className:"token function",children:"sudo"})," certbot --nginx -d example.com -d www.example.com\n\n",(0,l.jsx)(s.span,{className:"token comment",children:"# \uc790\ub3d9 \uac31\uc2e0 \ud655\uc778"}),"\n",(0,l.jsx)(s.span,{className:"token function",children:"sudo"})," certbot renew --dry-run\n"]})}),"\n",(0,l.jsx)(s.h3,{id:"nginx-ssl-\uc124\uc815",children:"Nginx SSL \uc124\uc815"}),"\n",(0,l.jsx)(s.pre,{className:"language-nginx",children:(0,l.jsxs)(s.code,{className:"language-nginx",children:[(0,l.jsx)(s.span,{className:"token directive",children:(0,l.jsx)(s.span,{className:"token keyword",children:"server"})})," ",(0,l.jsx)(s.span,{className:"token punctuation",children:"{"}),"\n    ",(0,l.jsxs)(s.span,{className:"token directive",children:[(0,l.jsx)(s.span,{className:"token keyword",children:"listen"})," ",(0,l.jsx)(s.span,{className:"token number",children:"443"})," ssl http2"]}),(0,l.jsx)(s.span,{className:"token punctuation",children:";"}),"\n    ",(0,l.jsxs)(s.span,{className:"token directive",children:[(0,l.jsx)(s.span,{className:"token keyword",children:"server_name"})," example.com"]}),(0,l.jsx)(s.span,{className:"token punctuation",children:";"}),"\n\n    ",(0,l.jsxs)(s.span,{className:"token directive",children:[(0,l.jsx)(s.span,{className:"token keyword",children:"ssl_certificate"})," /etc/letsencrypt/live/example.com/fullchain.pem"]}),(0,l.jsx)(s.span,{className:"token punctuation",children:";"}),"\n    ",(0,l.jsxs)(s.span,{className:"token directive",children:[(0,l.jsx)(s.span,{className:"token keyword",children:"ssl_certificate_key"})," /etc/letsencrypt/live/example.com/privkey.pem"]}),(0,l.jsx)(s.span,{className:"token punctuation",children:";"}),"\n\n    ",(0,l.jsx)(s.span,{className:"token comment",children:"# SSL \ucd5c\uc801\ud654"}),"\n    ",(0,l.jsxs)(s.span,{className:"token directive",children:[(0,l.jsx)(s.span,{className:"token keyword",children:"ssl_session_timeout"})," ",(0,l.jsx)(s.span,{className:"token number",children:"1d"})]}),(0,l.jsx)(s.span,{className:"token punctuation",children:";"}),"\n    ",(0,l.jsxs)(s.span,{className:"token directive",children:[(0,l.jsx)(s.span,{className:"token keyword",children:"ssl_session_cache"})," shared:SSL:50m"]}),(0,l.jsx)(s.span,{className:"token punctuation",children:";"}),"\n    ",(0,l.jsxs)(s.span,{className:"token directive",children:[(0,l.jsx)(s.span,{className:"token keyword",children:"ssl_protocols"})," TLSv1.2 TLSv1.3"]}),(0,l.jsx)(s.span,{className:"token punctuation",children:";"}),"\n    ",(0,l.jsxs)(s.span,{className:"token directive",children:[(0,l.jsx)(s.span,{className:"token keyword",children:"ssl_ciphers"})," ECDHE-ECDSA-AES128-GCM-SHA256:ECDHE-RSA-AES128-GCM-SHA256"]}),(0,l.jsx)(s.span,{className:"token punctuation",children:";"}),"\n    ",(0,l.jsxs)(s.span,{className:"token directive",children:[(0,l.jsx)(s.span,{className:"token keyword",children:"ssl_prefer_server_ciphers"})," ",(0,l.jsx)(s.span,{className:"token boolean",children:"off"})]}),(0,l.jsx)(s.span,{className:"token punctuation",children:";"}),"\n",(0,l.jsx)(s.span,{className:"token punctuation",children:"}"}),"\n"]})}),"\n",(0,l.jsx)(s.h2,{id:"14-\ubc31\uc5c5-\uc124\uc815",children:"14. \ubc31\uc5c5 \uc124\uc815"}),"\n",(0,l.jsx)(s.h3,{id:"mysql-\ubc31\uc5c5",children:"MySQL \ubc31\uc5c5"}),"\n",(0,l.jsx)(s.pre,{className:"language-bash",children:(0,l.jsxs)(s.code,{className:"language-bash",children:[(0,l.jsx)(s.span,{className:"token comment",children:"# \uc790\ub3d9 \ubc31\uc5c5 \uc2a4\ud06c\ub9bd\ud2b8"}),"\n",(0,l.jsx)(s.span,{className:"token comment",children:"#!/bin/bash"}),"\n",(0,l.jsx)(s.span,{className:"token assign-left variable",children:"BACKUP_DIR"}),(0,l.jsx)(s.span,{className:"token operator",children:"="}),(0,l.jsx)(s.span,{className:"token string",children:'"/backup/mysql"'}),"\n",(0,l.jsx)(s.span,{className:"token assign-left variable",children:"DATE"}),(0,l.jsx)(s.span,{className:"token operator",children:"="}),(0,l.jsxs)(s.span,{className:"token variable",children:[(0,l.jsx)(s.span,{className:"token variable",children:"$("}),(0,l.jsx)(s.span,{className:"token function",children:"date"})," +%Y%m%d",(0,l.jsx)(s.span,{className:"token variable",children:")"})]}),"\nmysqldump --all-databases -u root -p",(0,l.jsx)(s.span,{className:"token punctuation",children:"["}),"password",(0,l.jsx)(s.span,{className:"token punctuation",children:"]"})," ",(0,l.jsx)(s.span,{className:"token operator",children:">"})," ",(0,l.jsx)(s.span,{className:"token variable",children:"$BACKUP_DIR"}),"/full_backup_",(0,l.jsx)(s.span,{className:"token variable",children:"$DATE"}),".sql\n\n",(0,l.jsx)(s.span,{className:"token comment",children:"# \uc624\ub798\ub41c \ubc31\uc5c5 \uc0ad\uc81c"}),"\n",(0,l.jsx)(s.span,{className:"token function",children:"find"})," ",(0,l.jsx)(s.span,{className:"token variable",children:"$BACKUP_DIR"})," -name ",(0,l.jsx)(s.span,{className:"token string",children:'"full_backup_*.sql"'})," -mtime +7 -delete\n"]})}),"\n",(0,l.jsx)(s.h3,{id:"\uc6f9-\ub370\uc774\ud130-\ubc31\uc5c5",children:"\uc6f9 \ub370\uc774\ud130 \ubc31\uc5c5"}),"\n",(0,l.jsx)(s.pre,{className:"language-bash",children:(0,l.jsxs)(s.code,{className:"language-bash",children:[(0,l.jsx)(s.span,{className:"token comment",children:"# \uc6f9 \ub514\ub809\ud1a0\ub9ac \ubc31\uc5c5"}),"\n",(0,l.jsx)(s.span,{className:"token function",children:"tar"})," -czf /backup/www/website_",(0,l.jsx)(s.span,{className:"token variable",children:"$DATE"}),".tar.gz /var/www/html/\n\n",(0,l.jsx)(s.span,{className:"token comment",children:"# \uc124\uc815 \ud30c\uc77c \ubc31\uc5c5"}),"\n",(0,l.jsx)(s.span,{className:"token function",children:"tar"})," -czf /backup/config/nginx_",(0,l.jsx)(s.span,{className:"token variable",children:"$DATE"}),".tar.gz /etc/nginx/\n",(0,l.jsx)(s.span,{className:"token function",children:"tar"})," -czf /backup/config/php_",(0,l.jsx)(s.span,{className:"token variable",children:"$DATE"}),".tar.gz /etc/php/\n"]})}),"\n",(0,l.jsx)(s.h2,{id:"15-\ub85c\uadf8-\uad00\ub9ac",children:"15. \ub85c\uadf8 \uad00\ub9ac"}),"\n",(0,l.jsx)(s.h3,{id:"\ub85c\uadf8-\uc21c\ud658-\uc124\uc815",children:"\ub85c\uadf8 \uc21c\ud658 \uc124\uc815"}),"\n",(0,l.jsx)(s.pre,{className:"language-bash",children:(0,l.jsxs)(s.code,{className:"language-bash",children:[(0,l.jsx)(s.span,{className:"token comment",children:"# /etc/logrotate.d/nginx"}),"\n/var/log/nginx/*.log ",(0,l.jsx)(s.span,{className:"token punctuation",children:"{"}),"\n    daily\n    missingok\n    rotate ",(0,l.jsx)(s.span,{className:"token number",children:"14"}),"\n    compress\n    delaycompress\n    notifempty\n    create 0640 www-data adm\n    sharedscripts\n    postrotate\n        /etc/init.d/nginx reload\n    endscript\n",(0,l.jsx)(s.span,{className:"token punctuation",children:"}"}),"\n"]})}),"\n",(0,l.jsx)(s.h3,{id:"\ub85c\uadf8-\ubaa8\ub2c8\ud130\ub9c1",children:"\ub85c\uadf8 \ubaa8\ub2c8\ud130\ub9c1"}),"\n",(0,l.jsx)(s.pre,{className:"language-bash",children:(0,l.jsxs)(s.code,{className:"language-bash",children:[(0,l.jsx)(s.span,{className:"token comment",children:"# \uc2e4\uc2dc\uac04 \ub85c\uadf8 \ubaa8\ub2c8\ud130\ub9c1"}),"\n",(0,l.jsx)(s.span,{className:"token function",children:"tail"})," -f /var/log/nginx/error.log\n",(0,l.jsx)(s.span,{className:"token function",children:"tail"})," -f /var/log/php8.1-fpm.log\n",(0,l.jsx)(s.span,{className:"token function",children:"tail"})," -f /var/log/mysql/error.log\n\n",(0,l.jsx)(s.span,{className:"token comment",children:"# \ub85c\uadf8 \ubd84\uc11d \ub3c4\uad6c \uc124\uce58"}),"\n",(0,l.jsx)(s.span,{className:"token function",children:"sudo"})," ",(0,l.jsx)(s.span,{className:"token function",children:"apt"})," ",(0,l.jsx)(s.span,{className:"token function",children:"install"})," goaccess\ngoaccess /var/log/nginx/access.log\n"]})})]})}function p(n={}){const{wrapper:s}={...(0,c.R)(),...n.components};return s?(0,l.jsx)(s,{...n,children:(0,l.jsx)(d,{...n})}):d(n)}},28453:(n,s,e)=>{e.d(s,{R:()=>t,x:()=>i});var a=e(96540);const l={},c=a.createContext(l);function t(n){const s=a.useContext(c);return a.useMemo((function(){return"function"==typeof n?n(s):{...s,...n}}),[s,n])}function i(n){let s;return s=n.disableParentContext?"function"==typeof n.components?n.components(l):n.components||l:t(n.components),a.createElement(c.Provider,{value:s},n.children)}}}]);