"use strict";(self.webpackChunkjk_story=self.webpackChunkjk_story||[]).push([[59325],{87921:(n,s,e)=>{e.r(s),e.d(s,{assets:()=>r,contentTitle:()=>o,default:()=>d,frontMatter:()=>l,metadata:()=>a,toc:()=>i});const a=JSON.parse('{"id":"JavaScript/trouble-shooting/html \ucea1\ucc98 \ub77c\uc774\ube0c\ub7ec\ub9ac cors \uc5d0\ub7ec","title":"html \ucea1\ucc98 \ub77c\uc774\ube0c\ub7ec\ub9ac cors \uc5d0\ub7ec","description":"\uc791\uc131\uc77c : 2025.04.14","source":"@site/docs/06. JavaScript/060100. trouble-shooting/060102. html \ucea1\ucc98 \ub77c\uc774\ube0c\ub7ec\ub9ac cors \uc5d0\ub7ec.md","sourceDirName":"06. JavaScript/060100. trouble-shooting","slug":"/JavaScript/trouble-shooting/html \ucea1\ucc98 \ub77c\uc774\ube0c\ub7ec\ub9ac cors \uc5d0\ub7ec","permalink":"/zora_story/docs/JavaScript/trouble-shooting/html \ucea1\ucc98 \ub77c\uc774\ube0c\ub7ec\ub9ac cors \uc5d0\ub7ec","draft":false,"unlisted":false,"tags":[],"version":"current","sidebarPosition":60102,"frontMatter":{},"sidebar":"studySidebar","previous":{"title":"\uac1d\uccb4 \uc811\uadfc \ubb38\uc81c","permalink":"/zora_story/docs/JavaScript/trouble-shooting/\uac1d\uccb4 \uc811\uadfc \ubb38\uc81c"},"next":{"title":"img\ud0dc\uadf8 crossOrigin\uc18d\uc131\uc744 \ud1b5\ud55c cors\ud574\uacb0","permalink":"/zora_story/docs/JavaScript/trouble-shooting/img\ud0dc\uadf8 crossOrigin\uc18d\uc131\uc744 \ud1b5\ud55c cors\ud574\uacb0"}}');var c=e(74848),t=e(28453);const l={},o=void 0,r={},i=[{value:"\ud83d\udca3 \ubb38\uc81c \uc6d0\uc778",id:"-\ubb38\uc81c-\uc6d0\uc778",level:2},{value:"\u2705 \ud574\uacb0 \ubc29\ubc95 \uc694\uc57d",id:"-\ud574\uacb0-\ubc29\ubc95-\uc694\uc57d",level:2},{value:"\ud83d\udd27 1. \uc678\ubd80 \uc774\ubbf8\uc9c0 Base64\ub85c \ubcc0\ud658 (\ud504\ub860\ud2b8\uc5d4\ub4dc\uc5d0\uc11c)",id:"-1-\uc678\ubd80-\uc774\ubbf8\uc9c0-base64\ub85c-\ubcc0\ud658-\ud504\ub860\ud2b8\uc5d4\ub4dc\uc5d0\uc11c",level:2},{value:"\ud83d\udd27 2. \ud504\ub85d\uc2dc \uc11c\ubc84\ub97c \ud1b5\ud574 \uc774\ubbf8\uc9c0 \uc6b0\ud68c",id:"-2-\ud504\ub85d\uc2dc-\uc11c\ubc84\ub97c-\ud1b5\ud574-\uc774\ubbf8\uc9c0-\uc6b0\ud68c",level:2},{value:"\ud83d\udd27 3. CSS\uc758 \uc678\ubd80 \uc774\ubbf8\uc9c0 \u2192 Base64\ub85c \uc9c1\uc811 \uc0bd\uc785",id:"-3-css\uc758-\uc678\ubd80-\uc774\ubbf8\uc9c0--base64\ub85c-\uc9c1\uc811-\uc0bd\uc785",level:2},{value:"\ud83d\udd27 4. Vite/Webpack\uc5d0\uc11c \uc790\ub3d9 \uc778\ub77c\uc778 \ucc98\ub9ac",id:"-4-vitewebpack\uc5d0\uc11c-\uc790\ub3d9-\uc778\ub77c\uc778-\ucc98\ub9ac",level:2},{value:"Vite \uc608\uc2dc",id:"vite-\uc608\uc2dc",level:3},{value:"Webpack \uc608\uc2dc (url-loader)",id:"webpack-\uc608\uc2dc-url-loader",level:3},{value:"\u26a0\ufe0f \uc8fc\uc758\uc0ac\ud56d",id:"\ufe0f-\uc8fc\uc758\uc0ac\ud56d",level:2},{value:"\ud83d\uddbc \uc608\uc2dc: html-to-image \uc801\uc6a9 \ucf54\ub4dc",id:"-\uc608\uc2dc-html-to-image-\uc801\uc6a9-\ucf54\ub4dc",level:2},{value:"\ud83e\uddf6 \ub9c8\ubb34\ub9ac",id:"-\ub9c8\ubb34\ub9ac",level:2}];function p(n){const s={blockquote:"blockquote",code:"code",h2:"h2",h3:"h3",hr:"hr",li:"li",p:"p",pre:"pre",span:"span",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,t.R)(),...n.components};return(0,c.jsxs)(c.Fragment,{children:[(0,c.jsxs)(s.blockquote,{children:["\n",(0,c.jsx)(s.p,{children:"\uc791\uc131\uc77c : 2025.04.14"}),"\n"]}),"\n",(0,c.jsxs)(s.p,{children:[(0,c.jsx)(s.code,{children:"html-to-image"})," \ub610\ub294 ",(0,c.jsx)(s.code,{children:"html2canvas"}),"\ub97c \uc0ac\uc6a9\ud574 DOM \uc694\uc18c\ub97c \uc774\ubbf8\uc9c0\ub85c \ucd94\ucd9c\ud560 \ub54c, \uc678\ubd80 \uc774\ubbf8\uc9c0\ub098 CSS\uc5d0 \ud3ec\ud568\ub41c \ub9ac\uc18c\uc2a4 \ub54c\ubb38\uc5d0 \ub2e4\uc74c\uacfc \uac19\uc740 CORS \uc5d0\ub7ec\uac00 \uc790\uc8fc \ubc1c\uc0dd\ud558\uc5ec \uc774\ubc88 \uae30\ud68c\uc5d0 \uc815\ub9ac\ud558\uace0\uc790 \ud569\ub2c8\ub2e4."]}),"\n",(0,c.jsx)(s.pre,{children:(0,c.jsx)(s.code,{children:"SecurityError: Failed to read the 'cssRules' property from 'CSSStyleSheet'\r\nAccess to fetch at [image URL] from origin 'null' has been blocked by CORS policy\n"})}),"\n",(0,c.jsx)(s.hr,{}),"\n",(0,c.jsx)(s.h2,{id:"-\ubb38\uc81c-\uc6d0\uc778",children:"\ud83d\udca3 \ubb38\uc81c \uc6d0\uc778"}),"\n",(0,c.jsxs)(s.ul,{children:["\n",(0,c.jsxs)(s.li,{children:[(0,c.jsx)(s.strong,{children:"\uc678\ubd80 \uc774\ubbf8\uc9c0"})," \ub610\ub294 ",(0,c.jsx)(s.strong,{children:"\uc678\ubd80 CSS\uc5d0\uc11c \ucc38\uc870\ub418\ub294 \uc774\ubbf8\uc9c0"}),"\uac00 ",(0,c.jsx)(s.strong,{children:"CORS \uc815\ucc45\uc5d0 \uc758\ud574 \ube0c\ub77c\uc6b0\uc800\uc5d0\uc11c \ucc28\ub2e8"}),"\ub418\uae30 \ub54c\ubb38\uc785\ub2c8\ub2e4."]}),"\n",(0,c.jsxs)(s.li,{children:["Canvas\ub85c \uadf8\ub9ac\uae30 \uc704\ud574\uc120 \ub9ac\uc18c\uc2a4\uac00 ",(0,c.jsx)(s.strong,{children:"\ub3d9\uc77c \ucd9c\ucc98"}),"\uc774\uac70\ub098, \ud574\ub2f9 \uc11c\ubc84\uac00 ",(0,c.jsx)(s.strong,{children:"Access-Control-Allow-Origin"}),"\uc744 \uc124\uc815\ud574\uc57c \ud569\ub2c8\ub2e4."]}),"\n",(0,c.jsxs)(s.li,{children:['\uadf8\ub807\uc9c0 \uc54a\uc73c\uba74 Canvas \uc790\uccb4\uac00 "tainted"\ub418\uc5b4 ',(0,c.jsx)(s.code,{children:"toDataURL()"})," \ud638\ucd9c \uc2dc \uc608\uc678\uac00 \ubc1c\uc0dd\ud569\ub2c8\ub2e4."]}),"\n"]}),"\n",(0,c.jsx)(s.hr,{}),"\n",(0,c.jsx)(s.h2,{id:"-\ud574\uacb0-\ubc29\ubc95-\uc694\uc57d",children:"\u2705 \ud574\uacb0 \ubc29\ubc95 \uc694\uc57d"}),"\n",(0,c.jsxs)(s.table,{children:[(0,c.jsx)(s.thead,{children:(0,c.jsxs)(s.tr,{children:[(0,c.jsx)(s.th,{children:"\ubc29\ubc95"}),(0,c.jsx)(s.th,{children:"\uc124\uba85"}),(0,c.jsx)(s.th,{children:"\uc7a5\uc810"}),(0,c.jsx)(s.th,{children:"\ub2e8\uc810"})]})}),(0,c.jsxs)(s.tbody,{children:[(0,c.jsxs)(s.tr,{children:[(0,c.jsx)(s.td,{children:"1. \uc678\ubd80 \uc774\ubbf8\uc9c0 Base64\ub85c \ubcc0\ud658"}),(0,c.jsx)(s.td,{children:"JavaScript\ub85c \uc774\ubbf8\uc9c0 \ub85c\ub4dc \ud6c4 Base64 \ubcc0\ud658\ud558\uc5ec \uc9c1\uc811 \uc0bd\uc785"}),(0,c.jsx)(s.td,{children:"\uac04\ub2e8, \ud504\ub860\ud2b8\uc5d4\ub4dc\uc5d0\uc11c \ud574\uacb0 \uac00\ub2a5"}),(0,c.jsx)(s.td,{children:"CORS \ud5c8\uc6a9\ub41c \uc774\ubbf8\uc9c0\uc5d0\ub9cc \uac00\ub2a5"})]}),(0,c.jsxs)(s.tr,{children:[(0,c.jsx)(s.td,{children:"2. \uc774\ubbf8\uc9c0 \ud504\ub85d\uc2dc \uc11c\ubc84 \uc0ac\uc6a9"}),(0,c.jsx)(s.td,{children:"\uc678\ubd80 \uc774\ubbf8\uc9c0\ub97c \ubc31\uc5d4\ub4dc\uc5d0\uc11c \ubc1b\uc544\uc640 CORS \ud5c8\uc6a9 \ud6c4 \uc804\ub2ec"}),(0,c.jsx)(s.td,{children:"\ubaa8\ub4e0 \uc774\ubbf8\uc9c0 \uc9c0\uc6d0 \uac00\ub2a5"}),(0,c.jsx)(s.td,{children:"\uc11c\ubc84 \uac1c\ubc1c \ud544\uc694"})]}),(0,c.jsxs)(s.tr,{children:[(0,c.jsx)(s.td,{children:"3. CSS\uc758 \uc678\ubd80 \uc774\ubbf8\uc9c0 \uc9c1\uc811 Base64 \uc0bd\uc785"}),(0,c.jsxs)(s.td,{children:[(0,c.jsx)(s.code,{children:"url(data:image/png;base64,...)"})," \ud615\uc2dd\uc73c\ub85c CSS \uc218\uc815"]}),(0,c.jsx)(s.td,{children:"\uc644\uc804\ud55c \ud574\uacb0"}),(0,c.jsx)(s.td,{children:"CSS \uc218\uc815 \ud544\uc694"})]}),(0,c.jsxs)(s.tr,{children:[(0,c.jsx)(s.td,{children:"4. \ube4c\ub4dc \ub3c4\uad6c\ub85c \uc790\ub3d9 \uc778\ub77c\uc778 \ucc98\ub9ac"}),(0,c.jsx)(s.td,{children:"webpack/Vite\uc5d0\uc11c asset\uc744 Base64\ub85c \uc790\ub3d9 \uc778\ub77c\uc778"}),(0,c.jsx)(s.td,{children:"\uc720\uc9c0\ubcf4\uc218 \uc26c\uc6c0"}),(0,c.jsx)(s.td,{children:"\ubc88\ub4e4\ub7ec \uc0ac\uc6a9 \ud544\uc694"})]}),(0,c.jsxs)(s.tr,{children:[(0,c.jsxs)(s.td,{children:["5. html2canvas + ",(0,c.jsx)(s.code,{children:"useCORS: true"})]}),(0,c.jsx)(s.td,{children:"\uac04\ub2e8\ud55c \uc635\uc158 \uc0ac\uc6a9"}),(0,c.jsx)(s.td,{children:"\ube60\ub978 \uc2dc\ub3c4"}),(0,c.jsx)(s.td,{children:"\uc5ec\uc804\ud788 CORS \ucc28\ub2e8 \uc2dc \uc2e4\ud328\ud568"})]})]})]}),"\n",(0,c.jsx)(s.hr,{}),"\n",(0,c.jsx)(s.h2,{id:"-1-\uc678\ubd80-\uc774\ubbf8\uc9c0-base64\ub85c-\ubcc0\ud658-\ud504\ub860\ud2b8\uc5d4\ub4dc\uc5d0\uc11c",children:"\ud83d\udd27 1. \uc678\ubd80 \uc774\ubbf8\uc9c0 Base64\ub85c \ubcc0\ud658 (\ud504\ub860\ud2b8\uc5d4\ub4dc\uc5d0\uc11c)"}),"\n",(0,c.jsx)(s.pre,{className:"language-ts",children:(0,c.jsxs)(s.code,{className:"language-ts",children:[(0,c.jsx)(s.span,{className:"token keyword",children:"function"})," ",(0,c.jsx)(s.span,{className:"token function",children:"imageUrlToBase64"}),(0,c.jsx)(s.span,{className:"token punctuation",children:"("}),"url",(0,c.jsx)(s.span,{className:"token punctuation",children:")"})," ",(0,c.jsx)(s.span,{className:"token punctuation",children:"{"}),"\r\n  ",(0,c.jsx)(s.span,{className:"token keyword control-flow",children:"return"})," ",(0,c.jsx)(s.span,{className:"token keyword",children:"new"})," ",(0,c.jsx)(s.span,{className:"token class-name",children:(0,c.jsx)(s.span,{className:"token known-class-name class-name",children:"Promise"})}),(0,c.jsx)(s.span,{className:"token punctuation",children:"("}),(0,c.jsx)(s.span,{className:"token punctuation",children:"("}),"resolve",(0,c.jsx)(s.span,{className:"token punctuation",children:","})," reject",(0,c.jsx)(s.span,{className:"token punctuation",children:")"})," ",(0,c.jsx)(s.span,{className:"token arrow operator",children:"=>"})," ",(0,c.jsx)(s.span,{className:"token punctuation",children:"{"}),"\r\n    ",(0,c.jsx)(s.span,{className:"token keyword",children:"const"})," img ",(0,c.jsx)(s.span,{className:"token operator",children:"="})," ",(0,c.jsx)(s.span,{className:"token keyword",children:"new"})," ",(0,c.jsx)(s.span,{className:"token class-name",children:(0,c.jsx)(s.span,{className:"token maybe-class-name",children:"Image"})}),(0,c.jsx)(s.span,{className:"token punctuation",children:"("}),(0,c.jsx)(s.span,{className:"token punctuation",children:")"}),(0,c.jsx)(s.span,{className:"token punctuation",children:";"}),"\r\n    img",(0,c.jsx)(s.span,{className:"token punctuation",children:"."}),(0,c.jsx)(s.span,{className:"token property-access",children:"crossOrigin"})," ",(0,c.jsx)(s.span,{className:"token operator",children:"="})," ",(0,c.jsx)(s.span,{className:"token string",children:'"anonymous"'}),(0,c.jsx)(s.span,{className:"token punctuation",children:";"}),"\r\n    img",(0,c.jsx)(s.span,{className:"token punctuation",children:"."}),(0,c.jsx)(s.span,{className:"token method-variable function-variable method function property-access",children:"onload"})," ",(0,c.jsx)(s.span,{className:"token operator",children:"="})," ",(0,c.jsx)(s.span,{className:"token punctuation",children:"("}),(0,c.jsx)(s.span,{className:"token punctuation",children:")"})," ",(0,c.jsx)(s.span,{className:"token arrow operator",children:"=>"})," ",(0,c.jsx)(s.span,{className:"token punctuation",children:"{"}),"\r\n      ",(0,c.jsx)(s.span,{className:"token keyword",children:"const"})," canvas ",(0,c.jsx)(s.span,{className:"token operator",children:"="})," ",(0,c.jsx)(s.span,{className:"token dom variable",children:"document"}),(0,c.jsx)(s.span,{className:"token punctuation",children:"."}),(0,c.jsx)(s.span,{className:"token method function property-access",children:"createElement"}),(0,c.jsx)(s.span,{className:"token punctuation",children:"("}),(0,c.jsx)(s.span,{className:"token string",children:'"canvas"'}),(0,c.jsx)(s.span,{className:"token punctuation",children:")"}),(0,c.jsx)(s.span,{className:"token punctuation",children:";"}),"\r\n      canvas",(0,c.jsx)(s.span,{className:"token punctuation",children:"."}),(0,c.jsx)(s.span,{className:"token property-access",children:"width"})," ",(0,c.jsx)(s.span,{className:"token operator",children:"="})," img",(0,c.jsx)(s.span,{className:"token punctuation",children:"."}),(0,c.jsx)(s.span,{className:"token property-access",children:"width"}),(0,c.jsx)(s.span,{className:"token punctuation",children:";"}),"\r\n      canvas",(0,c.jsx)(s.span,{className:"token punctuation",children:"."}),(0,c.jsx)(s.span,{className:"token property-access",children:"height"})," ",(0,c.jsx)(s.span,{className:"token operator",children:"="})," img",(0,c.jsx)(s.span,{className:"token punctuation",children:"."}),(0,c.jsx)(s.span,{className:"token property-access",children:"height"}),(0,c.jsx)(s.span,{className:"token punctuation",children:";"}),"\r\n      canvas",(0,c.jsx)(s.span,{className:"token punctuation",children:"."}),(0,c.jsx)(s.span,{className:"token method function property-access",children:"getContext"}),(0,c.jsx)(s.span,{className:"token punctuation",children:"("}),(0,c.jsx)(s.span,{className:"token string",children:'"2d"'}),(0,c.jsx)(s.span,{className:"token punctuation",children:")"}),(0,c.jsx)(s.span,{className:"token punctuation",children:"."}),(0,c.jsx)(s.span,{className:"token method function property-access",children:"drawImage"}),(0,c.jsx)(s.span,{className:"token punctuation",children:"("}),"img",(0,c.jsx)(s.span,{className:"token punctuation",children:","})," ",(0,c.jsx)(s.span,{className:"token number",children:"0"}),(0,c.jsx)(s.span,{className:"token punctuation",children:","})," ",(0,c.jsx)(s.span,{className:"token number",children:"0"}),(0,c.jsx)(s.span,{className:"token punctuation",children:")"}),(0,c.jsx)(s.span,{className:"token punctuation",children:";"}),"\r\n      ",(0,c.jsx)(s.span,{className:"token keyword control-flow",children:"try"})," ",(0,c.jsx)(s.span,{className:"token punctuation",children:"{"}),"\r\n        ",(0,c.jsx)(s.span,{className:"token function",children:"resolve"}),(0,c.jsx)(s.span,{className:"token punctuation",children:"("}),"canvas",(0,c.jsx)(s.span,{className:"token punctuation",children:"."}),(0,c.jsx)(s.span,{className:"token method function property-access",children:"toDataURL"}),(0,c.jsx)(s.span,{className:"token punctuation",children:"("}),(0,c.jsx)(s.span,{className:"token string",children:'"image/png"'}),(0,c.jsx)(s.span,{className:"token punctuation",children:")"}),(0,c.jsx)(s.span,{className:"token punctuation",children:")"}),(0,c.jsx)(s.span,{className:"token punctuation",children:";"}),"\r\n      ",(0,c.jsx)(s.span,{className:"token punctuation",children:"}"})," ",(0,c.jsx)(s.span,{className:"token keyword control-flow",children:"catch"})," ",(0,c.jsx)(s.span,{className:"token punctuation",children:"("}),"e",(0,c.jsx)(s.span,{className:"token punctuation",children:")"})," ",(0,c.jsx)(s.span,{className:"token punctuation",children:"{"}),"\r\n        ",(0,c.jsx)(s.span,{className:"token function",children:"reject"}),(0,c.jsx)(s.span,{className:"token punctuation",children:"("}),"e",(0,c.jsx)(s.span,{className:"token punctuation",children:")"}),(0,c.jsx)(s.span,{className:"token punctuation",children:";"}),"\r\n      ",(0,c.jsx)(s.span,{className:"token punctuation",children:"}"}),"\r\n    ",(0,c.jsx)(s.span,{className:"token punctuation",children:"}"}),(0,c.jsx)(s.span,{className:"token punctuation",children:";"}),"\r\n    img",(0,c.jsx)(s.span,{className:"token punctuation",children:"."}),(0,c.jsx)(s.span,{className:"token property-access",children:"onerror"})," ",(0,c.jsx)(s.span,{className:"token operator",children:"="})," reject",(0,c.jsx)(s.span,{className:"token punctuation",children:";"}),"\r\n    img",(0,c.jsx)(s.span,{className:"token punctuation",children:"."}),(0,c.jsx)(s.span,{className:"token property-access",children:"src"})," ",(0,c.jsx)(s.span,{className:"token operator",children:"="})," url",(0,c.jsx)(s.span,{className:"token punctuation",children:";"}),"\r\n  ",(0,c.jsx)(s.span,{className:"token punctuation",children:"}"}),(0,c.jsx)(s.span,{className:"token punctuation",children:")"}),(0,c.jsx)(s.span,{className:"token punctuation",children:";"}),"\r\n",(0,c.jsx)(s.span,{className:"token punctuation",children:"}"}),"\r\n\r\n",(0,c.jsx)(s.span,{className:"token comment",children:"// \uc0ac\uc6a9 \uc608\uc2dc"}),"\r\n",(0,c.jsx)(s.span,{className:"token function",children:"imageUrlToBase64"}),(0,c.jsx)(s.span,{className:"token punctuation",children:"("}),(0,c.jsx)(s.span,{className:"token string",children:'"https://example.com/image.png"'}),(0,c.jsx)(s.span,{className:"token punctuation",children:")"}),(0,c.jsx)(s.span,{className:"token punctuation",children:"."}),(0,c.jsx)(s.span,{className:"token method function property-access",children:"then"}),(0,c.jsx)(s.span,{className:"token punctuation",children:"("}),(0,c.jsx)(s.span,{className:"token punctuation",children:"("}),"base64",(0,c.jsx)(s.span,{className:"token punctuation",children:")"})," ",(0,c.jsx)(s.span,{className:"token arrow operator",children:"=>"})," ",(0,c.jsx)(s.span,{className:"token punctuation",children:"{"}),"\r\n  ",(0,c.jsx)(s.span,{className:"token dom variable",children:"document"}),(0,c.jsx)(s.span,{className:"token punctuation",children:"."}),(0,c.jsx)(s.span,{className:"token method function property-access",children:"querySelector"}),(0,c.jsx)(s.span,{className:"token punctuation",children:"("}),(0,c.jsx)(s.span,{className:"token string",children:'"#img"'}),(0,c.jsx)(s.span,{className:"token punctuation",children:")"}),(0,c.jsx)(s.span,{className:"token punctuation",children:"."}),(0,c.jsx)(s.span,{className:"token property-access",children:"src"})," ",(0,c.jsx)(s.span,{className:"token operator",children:"="})," base64",(0,c.jsx)(s.span,{className:"token punctuation",children:";"}),"\r\n",(0,c.jsx)(s.span,{className:"token punctuation",children:"}"}),(0,c.jsx)(s.span,{className:"token punctuation",children:")"}),(0,c.jsx)(s.span,{className:"token punctuation",children:";"}),"\n"]})}),"\n",(0,c.jsxs)(s.blockquote,{children:["\n",(0,c.jsx)(s.p,{children:"\uc774 \ubc29\uc2dd\uc740 \uc774\ubbf8\uc9c0\uac00 CORS \ud5c8\uc6a9 \uc0c1\ud0dc\uc5ec\uc57c\ub9cc \ub3d9\uc791\ud569\ub2c8\ub2e4."}),"\n"]}),"\n",(0,c.jsx)(s.hr,{}),"\n",(0,c.jsx)(s.h2,{id:"-2-\ud504\ub85d\uc2dc-\uc11c\ubc84\ub97c-\ud1b5\ud574-\uc774\ubbf8\uc9c0-\uc6b0\ud68c",children:"\ud83d\udd27 2. \ud504\ub85d\uc2dc \uc11c\ubc84\ub97c \ud1b5\ud574 \uc774\ubbf8\uc9c0 \uc6b0\ud68c"}),"\n",(0,c.jsx)(s.p,{children:"Node.js Express \uc608\uc2dc:"}),"\n",(0,c.jsx)(s.pre,{className:"language-ts",children:(0,c.jsxs)(s.code,{className:"language-ts",children:["app",(0,c.jsx)(s.span,{className:"token punctuation",children:"."}),(0,c.jsx)(s.span,{className:"token method function property-access",children:"get"}),(0,c.jsx)(s.span,{className:"token punctuation",children:"("}),(0,c.jsx)(s.span,{className:"token string",children:"'/proxy-image'"}),(0,c.jsx)(s.span,{className:"token punctuation",children:","})," ",(0,c.jsx)(s.span,{className:"token keyword",children:"async"})," ",(0,c.jsx)(s.span,{className:"token punctuation",children:"("}),"req",(0,c.jsx)(s.span,{className:"token punctuation",children:","})," res",(0,c.jsx)(s.span,{className:"token punctuation",children:")"})," ",(0,c.jsx)(s.span,{className:"token arrow operator",children:"=>"})," ",(0,c.jsx)(s.span,{className:"token punctuation",children:"{"}),"\r\n  ",(0,c.jsx)(s.span,{className:"token keyword",children:"const"})," imageUrl ",(0,c.jsx)(s.span,{className:"token operator",children:"="})," req",(0,c.jsx)(s.span,{className:"token punctuation",children:"."}),(0,c.jsx)(s.span,{className:"token property-access",children:"query"}),(0,c.jsx)(s.span,{className:"token punctuation",children:"."}),(0,c.jsx)(s.span,{className:"token property-access",children:"url"}),(0,c.jsx)(s.span,{className:"token punctuation",children:";"}),"\r\n  ",(0,c.jsx)(s.span,{className:"token keyword",children:"const"})," response ",(0,c.jsx)(s.span,{className:"token operator",children:"="})," ",(0,c.jsx)(s.span,{className:"token keyword control-flow",children:"await"})," ",(0,c.jsx)(s.span,{className:"token function",children:"fetch"}),(0,c.jsx)(s.span,{className:"token punctuation",children:"("}),"imageUrl",(0,c.jsx)(s.span,{className:"token punctuation",children:")"}),(0,c.jsx)(s.span,{className:"token punctuation",children:";"}),"\r\n  ",(0,c.jsx)(s.span,{className:"token keyword",children:"const"})," buffer ",(0,c.jsx)(s.span,{className:"token operator",children:"="})," ",(0,c.jsx)(s.span,{className:"token keyword control-flow",children:"await"})," response",(0,c.jsx)(s.span,{className:"token punctuation",children:"."}),(0,c.jsx)(s.span,{className:"token method function property-access",children:"buffer"}),(0,c.jsx)(s.span,{className:"token punctuation",children:"("}),(0,c.jsx)(s.span,{className:"token punctuation",children:")"}),(0,c.jsx)(s.span,{className:"token punctuation",children:";"}),"\r\n  res",(0,c.jsx)(s.span,{className:"token punctuation",children:"."}),(0,c.jsx)(s.span,{className:"token method function property-access",children:"set"}),(0,c.jsx)(s.span,{className:"token punctuation",children:"("}),(0,c.jsx)(s.span,{className:"token string",children:"'Content-Type'"}),(0,c.jsx)(s.span,{className:"token punctuation",children:","})," ",(0,c.jsx)(s.span,{className:"token string",children:"'image/png'"}),(0,c.jsx)(s.span,{className:"token punctuation",children:")"}),(0,c.jsx)(s.span,{className:"token punctuation",children:";"}),"\r\n  res",(0,c.jsx)(s.span,{className:"token punctuation",children:"."}),(0,c.jsx)(s.span,{className:"token method function property-access",children:"set"}),(0,c.jsx)(s.span,{className:"token punctuation",children:"("}),(0,c.jsx)(s.span,{className:"token string",children:"'Access-Control-Allow-Origin'"}),(0,c.jsx)(s.span,{className:"token punctuation",children:","})," ",(0,c.jsx)(s.span,{className:"token string",children:"'*'"}),(0,c.jsx)(s.span,{className:"token punctuation",children:")"}),(0,c.jsx)(s.span,{className:"token punctuation",children:";"}),"\r\n  res",(0,c.jsx)(s.span,{className:"token punctuation",children:"."}),(0,c.jsx)(s.span,{className:"token method function property-access",children:"send"}),(0,c.jsx)(s.span,{className:"token punctuation",children:"("}),"buffer",(0,c.jsx)(s.span,{className:"token punctuation",children:")"}),(0,c.jsx)(s.span,{className:"token punctuation",children:";"}),"\r\n",(0,c.jsx)(s.span,{className:"token punctuation",children:"}"}),(0,c.jsx)(s.span,{className:"token punctuation",children:")"}),(0,c.jsx)(s.span,{className:"token punctuation",children:";"}),"\n"]})}),"\n",(0,c.jsx)(s.p,{children:"\ud504\ub860\ud2b8\uc5d4\ub4dc\uc5d0\uc11c:"}),"\n",(0,c.jsx)(s.pre,{className:"language-html",children:(0,c.jsxs)(s.code,{className:"language-html",children:[(0,c.jsxs)(s.span,{className:"token tag",children:[(0,c.jsxs)(s.span,{className:"token tag",children:[(0,c.jsx)(s.span,{className:"token punctuation",children:"<"}),"img"]})," ",(0,c.jsx)(s.span,{className:"token attr-name",children:"src"}),(0,c.jsxs)(s.span,{className:"token attr-value",children:[(0,c.jsx)(s.span,{className:"token punctuation attr-equals",children:"="}),(0,c.jsx)(s.span,{className:"token punctuation",children:'"'}),"/proxy-image?url=https://example.com/image.png",(0,c.jsx)(s.span,{className:"token punctuation",children:'"'})]})," ",(0,c.jsx)(s.span,{className:"token punctuation",children:"/>"})]}),"\n"]})}),"\n",(0,c.jsx)(s.hr,{}),"\n",(0,c.jsx)(s.h2,{id:"-3-css\uc758-\uc678\ubd80-\uc774\ubbf8\uc9c0--base64\ub85c-\uc9c1\uc811-\uc0bd\uc785",children:"\ud83d\udd27 3. CSS\uc758 \uc678\ubd80 \uc774\ubbf8\uc9c0 \u2192 Base64\ub85c \uc9c1\uc811 \uc0bd\uc785"}),"\n",(0,c.jsx)(s.pre,{className:"language-css",children:(0,c.jsxs)(s.code,{className:"language-css",children:[(0,c.jsx)(s.span,{className:"token comment",children:"/* before */"}),"\r\n",(0,c.jsx)(s.span,{className:"token selector",children:(0,c.jsx)(s.span,{className:"token class",children:".element"})})," ",(0,c.jsx)(s.span,{className:"token punctuation",children:"{"}),"\r\n  ",(0,c.jsx)(s.span,{className:"token property",children:"background-image"}),(0,c.jsx)(s.span,{className:"token punctuation",children:":"})," ",(0,c.jsxs)(s.span,{className:"token url",children:[(0,c.jsx)(s.span,{className:"token function",children:"url"}),(0,c.jsx)(s.span,{className:"token punctuation",children:"("}),(0,c.jsx)(s.span,{className:"token string url",children:"'https://example.com/bg.png'"}),(0,c.jsx)(s.span,{className:"token punctuation",children:")"})]}),(0,c.jsx)(s.span,{className:"token punctuation",children:";"}),"\r\n",(0,c.jsx)(s.span,{className:"token punctuation",children:"}"}),"\r\n\r\n",(0,c.jsx)(s.span,{className:"token comment",children:"/* after */"}),"\r\n",(0,c.jsx)(s.span,{className:"token selector",children:(0,c.jsx)(s.span,{className:"token class",children:".element"})})," ",(0,c.jsx)(s.span,{className:"token punctuation",children:"{"}),"\r\n  ",(0,c.jsx)(s.span,{className:"token property",children:"background-image"}),(0,c.jsx)(s.span,{className:"token punctuation",children:":"})," ",(0,c.jsxs)(s.span,{className:"token url",children:[(0,c.jsx)(s.span,{className:"token function",children:"url"}),(0,c.jsx)(s.span,{className:"token punctuation",children:"("}),(0,c.jsx)(s.span,{className:"token string url",children:"'data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAA...'"}),(0,c.jsx)(s.span,{className:"token punctuation",children:")"})]}),(0,c.jsx)(s.span,{className:"token punctuation",children:";"}),"\r\n",(0,c.jsx)(s.span,{className:"token punctuation",children:"}"}),"\n"]})}),"\n",(0,c.jsx)(s.hr,{}),"\n",(0,c.jsx)(s.h2,{id:"-4-vitewebpack\uc5d0\uc11c-\uc790\ub3d9-\uc778\ub77c\uc778-\ucc98\ub9ac",children:"\ud83d\udd27 4. Vite/Webpack\uc5d0\uc11c \uc790\ub3d9 \uc778\ub77c\uc778 \ucc98\ub9ac"}),"\n",(0,c.jsx)(s.h3,{id:"vite-\uc608\uc2dc",children:"Vite \uc608\uc2dc"}),"\n",(0,c.jsx)(s.pre,{className:"language-ts",children:(0,c.jsxs)(s.code,{className:"language-ts",children:[(0,c.jsx)(s.span,{className:"token keyword module",children:"export"})," ",(0,c.jsx)(s.span,{className:"token keyword module",children:"default"})," ",(0,c.jsx)(s.span,{className:"token function",children:"defineConfig"}),(0,c.jsx)(s.span,{className:"token punctuation",children:"("}),(0,c.jsx)(s.span,{className:"token punctuation",children:"{"}),"\r\n  build",(0,c.jsx)(s.span,{className:"token operator",children:":"})," ",(0,c.jsx)(s.span,{className:"token punctuation",children:"{"}),"\r\n    assetsInlineLimit",(0,c.jsx)(s.span,{className:"token operator",children:":"})," ",(0,c.jsx)(s.span,{className:"token number",children:"100_000"}),(0,c.jsx)(s.span,{className:"token punctuation",children:","})," ",(0,c.jsx)(s.span,{className:"token comment",children:"// 100KB \uc774\ud558 \uc774\ubbf8\uc9c0\ub294 base64\ub85c \uc790\ub3d9 \uc778\ub77c\uc778\ub428"}),"\r\n  ",(0,c.jsx)(s.span,{className:"token punctuation",children:"}"}),(0,c.jsx)(s.span,{className:"token punctuation",children:","}),"\r\n",(0,c.jsx)(s.span,{className:"token punctuation",children:"}"}),(0,c.jsx)(s.span,{className:"token punctuation",children:")"}),(0,c.jsx)(s.span,{className:"token punctuation",children:";"}),"\n"]})}),"\n",(0,c.jsx)(s.h3,{id:"webpack-\uc608\uc2dc-url-loader",children:"Webpack \uc608\uc2dc (url-loader)"}),"\n",(0,c.jsx)(s.pre,{className:"language-js",children:(0,c.jsxs)(s.code,{className:"language-js",children:[(0,c.jsx)(s.span,{className:"token punctuation",children:"{"}),"\r\n  ",(0,c.jsx)(s.span,{className:"token literal-property property",children:"test"}),(0,c.jsx)(s.span,{className:"token operator",children:":"})," ",(0,c.jsxs)(s.span,{className:"token regex",children:[(0,c.jsx)(s.span,{className:"token regex-delimiter",children:"/"}),(0,c.jsx)(s.span,{className:"token regex-source language-regex",children:"\\.(png|jpg|gif)$"}),(0,c.jsx)(s.span,{className:"token regex-delimiter",children:"/"}),(0,c.jsx)(s.span,{className:"token regex-flags",children:"i"})]}),(0,c.jsx)(s.span,{className:"token punctuation",children:","}),"\r\n  ",(0,c.jsx)(s.span,{className:"token literal-property property",children:"use"}),(0,c.jsx)(s.span,{className:"token operator",children:":"})," ",(0,c.jsx)(s.span,{className:"token punctuation",children:"["}),"\r\n    ",(0,c.jsx)(s.span,{className:"token punctuation",children:"{"}),"\r\n      ",(0,c.jsx)(s.span,{className:"token literal-property property",children:"loader"}),(0,c.jsx)(s.span,{className:"token operator",children:":"})," ",(0,c.jsx)(s.span,{className:"token string",children:"'url-loader'"}),(0,c.jsx)(s.span,{className:"token punctuation",children:","}),"\r\n      ",(0,c.jsx)(s.span,{className:"token literal-property property",children:"options"}),(0,c.jsx)(s.span,{className:"token operator",children:":"})," ",(0,c.jsx)(s.span,{className:"token punctuation",children:"{"}),"\r\n        ",(0,c.jsx)(s.span,{className:"token literal-property property",children:"limit"}),(0,c.jsx)(s.span,{className:"token operator",children:":"})," ",(0,c.jsx)(s.span,{className:"token number",children:"8192"}),(0,c.jsx)(s.span,{className:"token punctuation",children:","})," ",(0,c.jsx)(s.span,{className:"token comment",children:"// 8KB \uc774\ud558\uc77c \uacbd\uc6b0 base64 \ucc98\ub9ac"}),"\r\n      ",(0,c.jsx)(s.span,{className:"token punctuation",children:"}"}),(0,c.jsx)(s.span,{className:"token punctuation",children:","}),"\r\n    ",(0,c.jsx)(s.span,{className:"token punctuation",children:"}"}),(0,c.jsx)(s.span,{className:"token punctuation",children:","}),"\r\n  ",(0,c.jsx)(s.span,{className:"token punctuation",children:"]"}),(0,c.jsx)(s.span,{className:"token punctuation",children:","}),"\r\n",(0,c.jsx)(s.span,{className:"token punctuation",children:"}"}),"\n"]})}),"\n",(0,c.jsx)(s.hr,{}),"\n",(0,c.jsx)(s.h2,{id:"\ufe0f-\uc8fc\uc758\uc0ac\ud56d",children:"\u26a0\ufe0f \uc8fc\uc758\uc0ac\ud56d"}),"\n",(0,c.jsxs)(s.ul,{children:["\n",(0,c.jsxs)(s.li,{children:[(0,c.jsx)(s.strong,{children:"CORS \uc815\ucc45\uc740 \ud074\ub77c\uc774\uc5b8\ud2b8\uc5d0\uc11c \uc6b0\ud68c \ubd88\uac00"})," \u2014 \uc11c\ubc84\uac00 \ud5c8\uc6a9\ud558\uc9c0 \uc54a\uc73c\uba74 JavaScript\uc5d0\uc11c\ub294 \uc774\ubbf8\uc9c0 \uc811\uadfc \ucc28\ub2e8\ub428"]}),"\n",(0,c.jsxs)(s.li,{children:[(0,c.jsx)(s.strong,{children:"CSS\uc5d0 \ud3ec\ud568\ub41c \uc678\ubd80 \uc774\ubbf8\uc9c0\ub3c4 \ub3d9\uc77c\ud55c \ubb38\uc81c"})," \ubc1c\uc0dd\ud568"]}),"\n",(0,c.jsxs)(s.li,{children:["\uc678\ubd80 \ub3c4\uba54\uc778\uc758 \uc774\ubbf8\uc9c0\ub098 \uc2a4\ud0c0\uc77c\uc744 \uc0ac\uc6a9\ud560 \uacbd\uc6b0\uc5d4 ",(0,c.jsx)(s.strong,{children:"\uac00\ub2a5\ud558\uba74 \uc0ac\uc804\uc5d0 base64 \ubcc0\ud658"}),"\ud558\uac70\ub098, ",(0,c.jsx)(s.strong,{children:"\uc11c\ubc84 \uce21\uc5d0\uc11c \ucc98\ub9ac"}),"\ud558\ub294 \uac8c \uc548\uc804\ud568"]}),"\n"]}),"\n",(0,c.jsx)(s.hr,{}),"\n",(0,c.jsx)(s.h2,{id:"-\uc608\uc2dc-html-to-image-\uc801\uc6a9-\ucf54\ub4dc",children:"\ud83d\uddbc \uc608\uc2dc: html-to-image \uc801\uc6a9 \ucf54\ub4dc"}),"\n",(0,c.jsx)(s.pre,{className:"language-ts",children:(0,c.jsxs)(s.code,{className:"language-ts",children:[(0,c.jsx)(s.span,{className:"token keyword module",children:"import"})," ",(0,c.jsxs)(s.span,{className:"token imports",children:[(0,c.jsx)(s.span,{className:"token punctuation",children:"{"})," toPng ",(0,c.jsx)(s.span,{className:"token punctuation",children:"}"})]})," ",(0,c.jsx)(s.span,{className:"token keyword module",children:"from"})," ",(0,c.jsx)(s.span,{className:"token string",children:"'html-to-image'"}),(0,c.jsx)(s.span,{className:"token punctuation",children:";"}),"\r\n\r\n",(0,c.jsx)(s.span,{className:"token function",children:"toPng"}),(0,c.jsx)(s.span,{className:"token punctuation",children:"("}),(0,c.jsx)(s.span,{className:"token dom variable",children:"document"}),(0,c.jsx)(s.span,{className:"token punctuation",children:"."}),(0,c.jsx)(s.span,{className:"token method function property-access",children:"querySelector"}),(0,c.jsx)(s.span,{className:"token punctuation",children:"("}),(0,c.jsx)(s.span,{className:"token string",children:"'#capture'"}),(0,c.jsx)(s.span,{className:"token punctuation",children:")"}),(0,c.jsx)(s.span,{className:"token punctuation",children:","})," ",(0,c.jsx)(s.span,{className:"token punctuation",children:"{"}),"\r\n  skipFonts",(0,c.jsx)(s.span,{className:"token operator",children:":"})," ",(0,c.jsx)(s.span,{className:"token boolean",children:"true"}),(0,c.jsx)(s.span,{className:"token punctuation",children:","}),"\r\n",(0,c.jsx)(s.span,{className:"token punctuation",children:"}"}),(0,c.jsx)(s.span,{className:"token punctuation",children:")"}),"\r\n",(0,c.jsx)(s.span,{className:"token punctuation",children:"."}),(0,c.jsx)(s.span,{className:"token method function property-access",children:"then"}),(0,c.jsx)(s.span,{className:"token punctuation",children:"("}),(0,c.jsx)(s.span,{className:"token punctuation",children:"("}),"dataUrl",(0,c.jsx)(s.span,{className:"token punctuation",children:")"})," ",(0,c.jsx)(s.span,{className:"token arrow operator",children:"=>"})," ",(0,c.jsx)(s.span,{className:"token punctuation",children:"{"}),"\r\n  ",(0,c.jsx)(s.span,{className:"token keyword",children:"const"})," link ",(0,c.jsx)(s.span,{className:"token operator",children:"="})," ",(0,c.jsx)(s.span,{className:"token dom variable",children:"document"}),(0,c.jsx)(s.span,{className:"token punctuation",children:"."}),(0,c.jsx)(s.span,{className:"token method function property-access",children:"createElement"}),(0,c.jsx)(s.span,{className:"token punctuation",children:"("}),(0,c.jsx)(s.span,{className:"token string",children:"'a'"}),(0,c.jsx)(s.span,{className:"token punctuation",children:")"}),(0,c.jsx)(s.span,{className:"token punctuation",children:";"}),"\r\n  link",(0,c.jsx)(s.span,{className:"token punctuation",children:"."}),(0,c.jsx)(s.span,{className:"token property-access",children:"href"})," ",(0,c.jsx)(s.span,{className:"token operator",children:"="})," dataUrl",(0,c.jsx)(s.span,{className:"token punctuation",children:";"}),"\r\n  link",(0,c.jsx)(s.span,{className:"token punctuation",children:"."}),(0,c.jsx)(s.span,{className:"token property-access",children:"download"})," ",(0,c.jsx)(s.span,{className:"token operator",children:"="})," ",(0,c.jsx)(s.span,{className:"token string",children:"'capture.png'"}),(0,c.jsx)(s.span,{className:"token punctuation",children:";"}),"\r\n  link",(0,c.jsx)(s.span,{className:"token punctuation",children:"."}),(0,c.jsx)(s.span,{className:"token method function property-access",children:"click"}),(0,c.jsx)(s.span,{className:"token punctuation",children:"("}),(0,c.jsx)(s.span,{className:"token punctuation",children:")"}),(0,c.jsx)(s.span,{className:"token punctuation",children:";"}),"\r\n",(0,c.jsx)(s.span,{className:"token punctuation",children:"}"}),(0,c.jsx)(s.span,{className:"token punctuation",children:")"}),"\r\n",(0,c.jsx)(s.span,{className:"token punctuation",children:"."}),(0,c.jsx)(s.span,{className:"token keyword control-flow",children:"catch"}),(0,c.jsx)(s.span,{className:"token punctuation",children:"("}),(0,c.jsx)(s.span,{className:"token punctuation",children:"("}),"err",(0,c.jsx)(s.span,{className:"token punctuation",children:")"})," ",(0,c.jsx)(s.span,{className:"token arrow operator",children:"=>"})," ",(0,c.jsx)(s.span,{className:"token punctuation",children:"{"}),"\r\n  ",(0,c.jsx)(s.span,{className:"token console class-name",children:"console"}),(0,c.jsx)(s.span,{className:"token punctuation",children:"."}),(0,c.jsx)(s.span,{className:"token method function property-access",children:"error"}),(0,c.jsx)(s.span,{className:"token punctuation",children:"("}),(0,c.jsx)(s.span,{className:"token string",children:"'\uc774\ubbf8\uc9c0 \uc0dd\uc131 \uc2e4\ud328:'"}),(0,c.jsx)(s.span,{className:"token punctuation",children:","})," err",(0,c.jsx)(s.span,{className:"token punctuation",children:")"}),(0,c.jsx)(s.span,{className:"token punctuation",children:";"}),"\r\n",(0,c.jsx)(s.span,{className:"token punctuation",children:"}"}),(0,c.jsx)(s.span,{className:"token punctuation",children:")"}),(0,c.jsx)(s.span,{className:"token punctuation",children:";"}),"\n"]})}),"\n",(0,c.jsx)(s.hr,{}),"\n",(0,c.jsx)(s.h2,{id:"-\ub9c8\ubb34\ub9ac",children:"\ud83e\uddf6 \ub9c8\ubb34\ub9ac"}),"\n",(0,c.jsxs)(s.p,{children:[(0,c.jsx)(s.code,{children:"html-to-image"}),"\ub098 ",(0,c.jsx)(s.code,{children:"html2canvas"}),"\ub97c \uc0ac\uc6a9\ud558\ub294 \uacbd\uc6b0, \uc678\ubd80 \uc774\ubbf8\uc9c0\uc640 CSS \ub9ac\uc18c\uc2a4\uc5d0 \ub300\ud574 CORS \ubb38\uc81c\ub97c \ubc18\ub4dc\uc2dc \uace0\ub824\ud574\uc57c \ud569\ub2c8\ub2e4. Base64 \ucc98\ub9ac\ub098 \uc11c\ubc84 \ud504\ub85d\uc2dc \ub4f1\uc758 \uc6b0\ud68c \ubc29\ubc95\uc744 \ud1b5\ud574 \uc548\uc815\uc801\uc73c\ub85c \uc774\ubbf8\uc9c0 \ucd94\ucd9c\uc744 \uad6c\ud604\ud560 \uc218 \uc788\uc2b5\ub2c8\ub2e4."]}),"\n",(0,c.jsx)(s.hr,{})]})}function d(n={}){const{wrapper:s}={...(0,t.R)(),...n.components};return s?(0,c.jsx)(s,{...n,children:(0,c.jsx)(p,{...n})}):p(n)}},28453:(n,s,e)=>{e.d(s,{R:()=>l,x:()=>o});var a=e(96540);const c={},t=a.createContext(c);function l(n){const s=a.useContext(t);return a.useMemo((function(){return"function"==typeof n?n(s):{...s,...n}}),[s,n])}function o(n){let s;return s=n.disableParentContext?"function"==typeof n.components?n.components(c):n.components||c:l(n.components),a.createElement(t.Provider,{value:s},n.children)}}}]);