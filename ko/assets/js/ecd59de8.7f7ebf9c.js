"use strict";(self.webpackChunkjk_story=self.webpackChunkjk_story||[]).push([[4693],{5465:(e,n,t)=>{t.r(n),t.d(n,{assets:()=>l,contentTitle:()=>s,default:()=>m,frontMatter:()=>r,metadata:()=>a,toc:()=>c});var o=t(4848),i=t(8453);const r={},s=void 0,a={id:"React.js/jotai",title:"jotai",description:"\uc791\uc131\uc77c : 2024.12.08",source:"@site/docs/React.js/jotai.md",sourceDirName:"React.js",slug:"/React.js/jotai",permalink:"/zora_story/ko/docs/React.js/jotai",draft:!1,unlisted:!1,tags:[],version:"current",frontMatter:{},sidebar:"studySidebar",previous:{title:"React \uba74\uc811 \uc900\ube44",permalink:"/zora_story/ko/docs/React.js/React \uba74\uc811 \uc900\ube44"},next:{title:"onChange vs useEffect",permalink:"/zora_story/ko/docs/React.js/onChange vs useEffect"}},l={},c=[{value:"Jotai\ub780?",id:"jotai\ub780",level:2},{value:"Jotai\uc758 \uc8fc\uc694 \ud2b9\uc9d5",id:"jotai\uc758-\uc8fc\uc694-\ud2b9\uc9d5",level:2},{value:"\uc124\uce58 \ubc29\ubc95",id:"\uc124\uce58-\ubc29\ubc95",level:2},{value:"Primitive Atom \uc774\ud574\ud558\uae30",id:"primitive-atom-\uc774\ud574\ud558\uae30",level:2},{value:"\uae30\ubcf8 \uc0ac\uc6a9\ubc95",id:"\uae30\ubcf8-\uc0ac\uc6a9\ubc95",level:2},{value:"1. \uae30\ubcf8 atom \uc0dd\uc131\uacfc \uc0ac\uc6a9",id:"1-\uae30\ubcf8-atom-\uc0dd\uc131\uacfc-\uc0ac\uc6a9",level:3},{value:"2. Atom \uc0ac\uc6a9\uc744 \uc704\ud55c \ub2e4\uc591\ud55c \ud6c5",id:"2-atom-\uc0ac\uc6a9\uc744-\uc704\ud55c-\ub2e4\uc591\ud55c-\ud6c5",level:3},{value:"3. \ud30c\uc0dd\ub41c(Derived) Atom",id:"3-\ud30c\uc0dd\ub41cderived-atom",level:3},{value:"4. \ube44\ub3d9\uae30 Atom",id:"4-\ube44\ub3d9\uae30-atom",level:3},{value:"5. Provider\ub97c \ud1b5\ud55c \uc0c1\ud0dc \uad00\ub9ac",id:"5-provider\ub97c-\ud1b5\ud55c-\uc0c1\ud0dc-\uad00\ub9ac",level:3},{value:"\uae30\ubcf8 Provider",id:"\uae30\ubcf8-provider",level:4},{value:"\ucee4\uc2a4\ud140 Provider\uc640 \uc0c1\ud0dc \ud558\uc774\ub4dc\ub808\uc774\uc158",id:"\ucee4\uc2a4\ud140-provider\uc640-\uc0c1\ud0dc-\ud558\uc774\ub4dc\ub808\uc774\uc158",level:4},{value:"6. atomWithStorage\ub85c \uc601\uad6c \uc800\uc7a5\uc18c \ud65c\uc6a9",id:"6-atomwithstorage\ub85c-\uc601\uad6c-\uc800\uc7a5\uc18c-\ud65c\uc6a9",level:3},{value:"\uc7a5\ub2e8\uc810",id:"\uc7a5\ub2e8\uc810",level:2},{value:"\uc7a5\uc810",id:"\uc7a5\uc810",level:3},{value:"\ub2e8\uc810",id:"\ub2e8\uc810",level:3},{value:"\ub9c8\uce58\uba70",id:"\ub9c8\uce58\uba70",level:2}];function d(e){const n={blockquote:"blockquote",code:"code",h2:"h2",h3:"h3",h4:"h4",li:"li",p:"p",pre:"pre",ul:"ul",...(0,i.R)(),...e.components};return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsxs)(n.blockquote,{children:["\n",(0,o.jsx)(n.p,{children:"\uc791\uc131\uc77c : 2024.12.08"}),"\n"]}),"\n",(0,o.jsx)(n.h2,{id:"jotai\ub780",children:"Jotai\ub780?"}),"\n",(0,o.jsx)(n.p,{children:"Jotai\ub294 React\ub97c \uc704\ud55c \uc0c1\ud0dc \uad00\ub9ac \ub77c\uc774\ube0c\ub7ec\ub9ac\ub85c, \ub9e4\uc6b0 \uc791\uc740 \ud06c\uae30(3kb)\uc640 TypeScript \uc9c0\ud5a5\uc801\uc778 \uc124\uacc4\uac00 \ud2b9\uc9d5\uc785\ub2c8\ub2e4. React.js, Next.js, React Native \ub4f1 \ub2e4\uc591\ud55c React \uae30\ubc18 \ud504\ub808\uc784\uc6cc\ud06c\uc5d0\uc11c \uc0ac\uc6a9\ud560 \uc218 \uc788\uc73c\uba70, \ud2b9\ud788 re-rendering \ubb38\uc81c\ub97c \ud6a8\uacfc\uc801\uc73c\ub85c \ud574\uacb0\ud588\ub2e4\ub294 \uc810\uc774 \uc8fc\ubaa9\ud560 \ub9cc\ud569\ub2c8\ub2e4."}),"\n",(0,o.jsx)(n.h2,{id:"jotai\uc758-\uc8fc\uc694-\ud2b9\uc9d5",children:"Jotai\uc758 \uc8fc\uc694 \ud2b9\uc9d5"}),"\n",(0,o.jsxs)(n.ul,{children:["\n",(0,o.jsx)(n.li,{children:"\ub9e4\uc6b0 \uac00\ubccd\uace0 \uac04\ub2e8\ud55c API (3kb\uc758 \ubc88\ub4e4 \uc0ac\uc774\uc988)"}),"\n",(0,o.jsx)(n.li,{children:"TypeScript\ub85c \uc791\uc131\ub418\uc5b4 \ud0c0\uc785 \uc548\uc815\uc131\uc774 \ub6f0\uc5b4\ub0a8"}),"\n",(0,o.jsx)(n.li,{children:"React Suspense\uc640 \uc644\ubcbd\ud55c \ud1b5\ud569"}),"\n",(0,o.jsx)(n.li,{children:"\uc911\ucca9\ub41c \uc5c5\ub370\uc774\ud2b8 \ucd5c\uc801\ud654"}),"\n",(0,o.jsx)(n.li,{children:"Redux DevTools \uc9c0\uc6d0"}),"\n"]}),"\n",(0,o.jsx)(n.h2,{id:"\uc124\uce58-\ubc29\ubc95",children:"\uc124\uce58 \ubc29\ubc95"}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-bash",children:"npm install jotai\n# \ub610\ub294\nyarn add jotai\n"})}),"\n",(0,o.jsx)(n.h2,{id:"primitive-atom-\uc774\ud574\ud558\uae30",children:"Primitive Atom \uc774\ud574\ud558\uae30"}),"\n",(0,o.jsx)(n.p,{children:'Primitive atom\uc740 Jotai\uc758 \uac00\uc7a5 \uae30\ubcf8\uc801\uc778 \uad6c\uc131 \uc694\uc18c\uc785\ub2c8\ub2e4. "Primitive"\ub77c\ub294 \ub9d0 \uadf8\ub300\ub85c "\uc6d0\uc2dc\uc801\uc778", "\uae30\ubcf8\uc801\uc778" atom\uc774\ub77c\ub294 \uc758\ubbf8\uc785\ub2c8\ub2e4.'}),"\n",(0,o.jsx)(n.p,{children:"\uc8fc\uc694 \ud2b9\uc9d5:"}),"\n",(0,o.jsxs)(n.ul,{children:["\n",(0,o.jsx)(n.li,{children:"\uac00\uc7a5 \ub2e8\uc21c\ud55c \ud615\ud0dc\uc758 atom"}),"\n",(0,o.jsx)(n.li,{children:"\ub2e8\uc77c \uac12\uc744 \uc800\uc7a5\ud560 \uc218 \uc788\uc74c (\uc22b\uc790, \ubb38\uc790\uc5f4, \uac1d\uccb4 \ub4f1)"}),"\n",(0,o.jsx)(n.li,{children:"\uc77d\uae30\uc640 \uc4f0\uae30\uac00 \ubaa8\ub450 \uac00\ub2a5"}),"\n",(0,o.jsx)(n.li,{children:"\ubc18\ub4dc\uc2dc \ucd08\uae30\uac12\uc774 \ud544\uc694"}),"\n"]}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-jsx",children:'// primitive atom\uc758 \uc608\uc2dc\ub4e4\nconst numberAtom = atom(0); // \uc22b\uc790\nconst stringAtom = atom("hello"); // \ubb38\uc790\uc5f4\nconst booleanAtom = atom(true); // \ubd88\ub9ac\uc5b8\nconst objectAtom = atom({ name: "John", age: 25 }); // \uac1d\uccb4\n'})}),"\n",(0,o.jsx)(n.p,{children:"\uc774\ub294 \ub2e4\ub978 atom\ub4e4(\uc608: \ud30c\uc0dd\ub41c atom)\uc758 \uae30\ucd08\uac00 \ub418\uba70, \uac00\uc7a5 \ud754\ud558\uac8c \uc0ac\uc6a9\ub418\ub294 \ud615\ud0dc\uc785\ub2c8\ub2e4."}),"\n",(0,o.jsx)(n.h2,{id:"\uae30\ubcf8-\uc0ac\uc6a9\ubc95",children:"\uae30\ubcf8 \uc0ac\uc6a9\ubc95"}),"\n",(0,o.jsx)(n.h3,{id:"1-\uae30\ubcf8-atom-\uc0dd\uc131\uacfc-\uc0ac\uc6a9",children:"1. \uae30\ubcf8 atom \uc0dd\uc131\uacfc \uc0ac\uc6a9"}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-jsx",children:'import { atom, useAtom } from "jotai";\n\n// atom \uc0dd\uc131\nconst countAtom = atom(0);\n\nfunction Counter() {\n  // atom \uc0ac\uc6a9\n  const [count, setCount] = useAtom(countAtom);\n\n  return (\n    <div>\n      <p>Count: {count}</p>\n      <button onClick={() => setCount(count + 1)}>Increment</button>\n    </div>\n  );\n}\n'})}),"\n",(0,o.jsx)(n.h3,{id:"2-atom-\uc0ac\uc6a9\uc744-\uc704\ud55c-\ub2e4\uc591\ud55c-\ud6c5",children:"2. Atom \uc0ac\uc6a9\uc744 \uc704\ud55c \ub2e4\uc591\ud55c \ud6c5"}),"\n",(0,o.jsx)(n.p,{children:"Jotai\ub294 \uc0c1\ud669\uc5d0 \ub530\ub77c \ucd5c\uc801\ud654\ub41c \uc5ec\ub7ec \ud6c5\uc744 \uc81c\uacf5\ud569\ub2c8\ub2e4:"}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-jsx",children:"// \uc77d\uae30/\uc4f0\uae30 \ubaa8\ub450 \ud544\uc694\ud560 \ub54c\nconst [value, setValue] = useAtom(myAtom);\n\n// \uc77d\uae30\ub9cc \ud544\uc694\ud560 \ub54c (\ucd5c\uc801\ud654)\nconst value = useAtomValue(myAtom);\n\n// \uc4f0\uae30\ub9cc \ud544\uc694\ud560 \ub54c (\ucd5c\uc801\ud654)\nconst setValue = useSetAtom(myAtom);\n"})}),"\n",(0,o.jsx)(n.h3,{id:"3-\ud30c\uc0dd\ub41cderived-atom",children:"3. \ud30c\uc0dd\ub41c(Derived) Atom"}),"\n",(0,o.jsx)(n.p,{children:"\ub2e4\ub978 atom\uc758 \uac12\uc744 \uae30\ubc18\uc73c\ub85c \uc0c8\ub85c\uc6b4 \uac12\uc744 \uacc4\uc0b0\ud560 \uc218 \uc788\uc2b5\ub2c8\ub2e4:"}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-jsx",children:'const countAtom = atom(0);\n// \uc77d\uae30 \uc804\uc6a9 \ud30c\uc0dd atom\nconst doubleCountAtom = atom((get) => get(countAtom) * 2);\n\n// \uc77d\uae30/\uc4f0\uae30 \uac00\ub2a5\ud55c \ud30c\uc0dd atom\nconst countryAtom = atom("Japan");\nconst citiesAtom = atom(\n  (get) => getCities(get(countryAtom)),\n  (get, set, newCity) => {\n    set(countryAtom, getCountry(newCity));\n  }\n);\n'})}),"\n",(0,o.jsx)(n.h3,{id:"4-\ube44\ub3d9\uae30-atom",children:"4. \ube44\ub3d9\uae30 Atom"}),"\n",(0,o.jsx)(n.p,{children:"\ube44\ub3d9\uae30 \ub370\uc774\ud130 \ucc98\ub9ac\ub3c4 \uc27d\uac8c \ud560 \uc218 \uc788\uc2b5\ub2c8\ub2e4:"}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-jsx",children:'const userAtom = atom(async () => {\n  const response = await fetch("/api/user");\n  return response.json();\n});\n\nfunction UserInfo() {\n  const [user] = useAtom(userAtom);\n  if (user.loading) return <Loading />;\n  return <div>{user.name}</div>;\n}\n'})}),"\n",(0,o.jsx)(n.h3,{id:"5-provider\ub97c-\ud1b5\ud55c-\uc0c1\ud0dc-\uad00\ub9ac",children:"5. Provider\ub97c \ud1b5\ud55c \uc0c1\ud0dc \uad00\ub9ac"}),"\n",(0,o.jsx)(n.h4,{id:"\uae30\ubcf8-provider",children:"\uae30\ubcf8 Provider"}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-jsx",children:'import { Provider } from "jotai";\n\nfunction App() {\n  return (\n    <Provider>\n      <Counter />\n      <OtherComponent />\n    </Provider>\n  );\n}\n'})}),"\n",(0,o.jsx)(n.h4,{id:"\ucee4\uc2a4\ud140-provider\uc640-\uc0c1\ud0dc-\ud558\uc774\ub4dc\ub808\uc774\uc158",children:"\ucee4\uc2a4\ud140 Provider\uc640 \uc0c1\ud0dc \ud558\uc774\ub4dc\ub808\uc774\uc158"}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-jsx",children:'import { useHydrateAtoms } from "jotai/utils";\n\nfunction JotaiProvider({ children, initialState }) {\n  useHydrateAtoms([\n    [nameAtom, initialState.name],\n    [ageAtom, initialState.age],\n  ]);\n  return children;\n}\n'})}),"\n",(0,o.jsx)(n.h3,{id:"6-atomwithstorage\ub85c-\uc601\uad6c-\uc800\uc7a5\uc18c-\ud65c\uc6a9",children:"6. atomWithStorage\ub85c \uc601\uad6c \uc800\uc7a5\uc18c \ud65c\uc6a9"}),"\n",(0,o.jsx)(n.p,{children:"\ube0c\ub77c\uc6b0\uc800\uc758 localStorage\uc640 \uc5f0\ub3d9\ud558\uc5ec \uc0c1\ud0dc\ub97c \uc601\uad6c\uc801\uc73c\ub85c \uc800\uc7a5\ud560 \uc218 \uc788\uc2b5\ub2c8\ub2e4:"}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-typescript",children:'import { atomWithStorage } from "jotai/utils";\n\nexport const isLoginAtom = atomWithStorage("isLogin", false);\n\n// \uc0ac\uc6a9 \uc608\uc2dc\nconst MobileNav = () => {\n  const isLogin = useAtomValue(isLoginAtom);\n  const setIsLogin = useSetAtom(isLoginAtom);\n\n  const logoutAction = async (e) => {\n    const result = await handleLogout();\n    if (result.code < 400) {\n      setIsLogin(false); // localStorage\uc5d0 \uc790\ub3d9 \uc800\uc7a5\n    }\n  };\n};\n'})}),"\n",(0,o.jsx)(n.h2,{id:"\uc7a5\ub2e8\uc810",children:"\uc7a5\ub2e8\uc810"}),"\n",(0,o.jsx)(n.h3,{id:"\uc7a5\uc810",children:"\uc7a5\uc810"}),"\n",(0,o.jsxs)(n.ul,{children:["\n",(0,o.jsx)(n.li,{children:"\ub9e4\uc6b0 \uc791\uc740 \ubc88\ub4e4 \uc0ac\uc774\uc988"}),"\n",(0,o.jsx)(n.li,{children:"\uac04\ub2e8\ud558\uace0 \uc9c1\uad00\uc801\uc778 API"}),"\n",(0,o.jsx)(n.li,{children:"TypeScript \uc9c0\uc6d0\uc774 \ub6f0\uc5b4\ub0a8"}),"\n",(0,o.jsx)(n.li,{children:"React\uc758 \uae30\ubcf8 \uc6d0\uce59\uc744 \uc798 \ub530\ub984"}),"\n",(0,o.jsx)(n.li,{children:"re-rendering \ucd5c\uc801\ud654\uac00 \uc798 \ub418\uc5b4\uc788\uc74c"}),"\n"]}),"\n",(0,o.jsx)(n.h3,{id:"\ub2e8\uc810",children:"\ub2e8\uc810"}),"\n",(0,o.jsxs)(n.ul,{children:["\n",(0,o.jsx)(n.li,{children:"\uacf5\uc2dd \ubb38\uc11c\uac00 \ub2e4\uc18c \ubd88\uce5c\uc808\ud560 \uc218 \uc788\uc74c"}),"\n",(0,o.jsx)(n.li,{children:"\uc77c\ubd80 \uace0\uae09 \uae30\ub2a5\uc5d0 \ub300\ud55c \uc124\uba85\uc774 \ubd80\uc871"}),"\n"]}),"\n",(0,o.jsx)(n.h2,{id:"\ub9c8\uce58\uba70",children:"\ub9c8\uce58\uba70"}),"\n",(0,o.jsx)(n.p,{children:"Jotai\ub294 React \uc0dd\ud0dc\uacc4\uc5d0\uc11c \uc810\uc810 \ub354 \uc911\uc694\ud55c \uc704\uce58\ub97c \ucc28\uc9c0\ud558\uace0 \uc788\ub294 \uc0c1\ud0dc \uad00\ub9ac \ub77c\uc774\ube0c\ub7ec\ub9ac\uc785\ub2c8\ub2e4. \ud2b9\ud788 \uc791\uc740 \ubc88\ub4e4 \uc0ac\uc774\uc988\uc640 \ud0c0\uc785\uc2a4\ud06c\ub9bd\ud2b8 \uce5c\ud654\uc801\uc778 \uc124\uacc4, \uadf8\ub9ac\uace0 \uc9c1\uad00\uc801\uc778 API\ub294 \ub9ce\uc740 \uac1c\ubc1c\uc790\ub4e4\uc5d0\uac8c \ub9e4\ub825\uc801\uc778 \uc120\ud0dd\uc9c0\uac00 \ub418\uace0 \uc788\uc2b5\ub2c8\ub2e4."})]})}function m(e={}){const{wrapper:n}={...(0,i.R)(),...e.components};return n?(0,o.jsx)(n,{...e,children:(0,o.jsx)(d,{...e})}):d(e)}},8453:(e,n,t)=>{t.d(n,{R:()=>s,x:()=>a});var o=t(6540);const i={},r=o.createContext(i);function s(e){const n=o.useContext(r);return o.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function a(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(i):e.components||i:s(e.components),o.createElement(r.Provider,{value:n},e.children)}}}]);