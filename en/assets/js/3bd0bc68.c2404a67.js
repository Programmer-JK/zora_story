"use strict";(self.webpackChunkjk_story=self.webpackChunkjk_story||[]).push([[33711],{8164:(n,s,e)=>{e.r(s),e.d(s,{assets:()=>i,contentTitle:()=>l,default:()=>d,frontMatter:()=>o,metadata:()=>a,toc:()=>r});const a=JSON.parse('{"id":"Next.js/trouble-shooting/JWT \uc778\uc99d\uacfc \ud1a0\ud070 \uc7ac\ubc1c\uae09","title":"JWT \uc778\uc99d\uacfc \ud1a0\ud070 \uc7ac\ubc1c\uae09","description":"\uc791\uc131\uc77c : 2025.01.02","source":"@site/docs/09. Next.js/090100. trouble-shooting/090101. JWT \uc778\uc99d\uacfc \ud1a0\ud070 \uc7ac\ubc1c\uae09.md","sourceDirName":"09. Next.js/090100. trouble-shooting","slug":"/Next.js/trouble-shooting/JWT \uc778\uc99d\uacfc \ud1a0\ud070 \uc7ac\ubc1c\uae09","permalink":"/zora_story/en/docs/Next.js/trouble-shooting/JWT \uc778\uc99d\uacfc \ud1a0\ud070 \uc7ac\ubc1c\uae09","draft":false,"unlisted":false,"tags":[],"version":"current","sidebarPosition":90101,"frontMatter":{},"sidebar":"studySidebar","previous":{"title":"React \uba74\uc811 \uc900\ube44","permalink":"/zora_story/en/docs/React.js/React \uba74\uc811 \uc900\ube44"},"next":{"title":"Next.js Hydration \uc5d0\ub7ec","permalink":"/zora_story/en/docs/Next.js/trouble-shooting/Next.js Hydration \uc5d0\ub7ec"}}');var c=e(74848),t=e(28453);const o={},l=void 0,i={},r=[{value:"\uc2dc\uc791: Fetch \ud568\uc218 \ubd84\ub9ac",id:"\uc2dc\uc791-fetch-\ud568\uc218-\ubd84\ub9ac",level:2},{value:"\ubb38\uc81c\uc810 \ubc1c\uacac",id:"\ubb38\uc81c\uc810-\ubc1c\uacac",level:2},{value:"\uacb0\ub860",id:"\uacb0\ub860",level:2},{value:"\uc2e4\uc81c \uc0ac\uc6a9 \uc608\uc2dc",id:"\uc2e4\uc81c-\uc0ac\uc6a9-\uc608\uc2dc",level:2}];function p(n){const s={blockquote:"blockquote",code:"code",h2:"h2",li:"li",ol:"ol",p:"p",pre:"pre",span:"span",ul:"ul",...(0,t.R)(),...n.components};return(0,c.jsxs)(c.Fragment,{children:[(0,c.jsxs)(s.blockquote,{children:["\n",(0,c.jsx)(s.p,{children:"\uc791\uc131\uc77c : 2025.01.02"}),"\n"]}),"\n",(0,c.jsx)(s.h2,{id:"\uc2dc\uc791-fetch-\ud568\uc218-\ubd84\ub9ac",children:"\uc2dc\uc791: Fetch \ud568\uc218 \ubd84\ub9ac"}),"\n",(0,c.jsx)(s.p,{children:"\ucc98\uc74c\uc5d0\ub294 \uae30\ub2a5\ubcc4\ub85c \ubd84\ub9ac\ud558\uc5ec \uad6c\ud604\ud588\uc2b5\ub2c8\ub2e4:"}),"\n",(0,c.jsxs)(s.ol,{children:["\n",(0,c.jsx)(s.li,{children:"\uae30\ubcf8 Fetch \ud568\uc218"}),"\n"]}),"\n",(0,c.jsx)(s.pre,{className:"language-typescript",children:(0,c.jsxs)(s.code,{className:"language-typescript",children:[(0,c.jsx)(s.span,{className:"token keyword module",children:"export"})," ",(0,c.jsx)(s.span,{className:"token keyword",children:"const"})," ",(0,c.jsx)(s.span,{className:"token function-variable function",children:(0,c.jsx)(s.span,{className:"token maybe-class-name",children:"Fetch"})})," ",(0,c.jsx)(s.span,{className:"token operator",children:"="})," ",(0,c.jsx)(s.span,{className:"token keyword",children:"async"})," ",(0,c.jsx)(s.span,{className:"token punctuation",children:"("}),"input",(0,c.jsx)(s.span,{className:"token operator",children:":"})," ",(0,c.jsx)(s.span,{className:"token maybe-class-name",children:"RequestInfo"})," ",(0,c.jsx)(s.span,{className:"token operator",children:"|"})," ",(0,c.jsx)(s.span,{className:"token constant",children:"URL"}),(0,c.jsx)(s.span,{className:"token punctuation",children:","})," init",(0,c.jsx)(s.span,{className:"token operator",children:"?"}),(0,c.jsx)(s.span,{className:"token operator",children:":"})," ",(0,c.jsx)(s.span,{className:"token maybe-class-name",children:"RequestInit"}),(0,c.jsx)(s.span,{className:"token punctuation",children:")"})," ",(0,c.jsx)(s.span,{className:"token arrow operator",children:"=>"})," ",(0,c.jsx)(s.span,{className:"token punctuation",children:"{"}),"\n  ",(0,c.jsx)(s.span,{className:"token keyword control-flow",children:"return"})," ",(0,c.jsx)(s.span,{className:"token function",children:"fetch"}),(0,c.jsx)(s.span,{className:"token punctuation",children:"("}),"input",(0,c.jsx)(s.span,{className:"token punctuation",children:","})," init",(0,c.jsx)(s.span,{className:"token punctuation",children:")"}),(0,c.jsx)(s.span,{className:"token punctuation",children:";"}),"\n",(0,c.jsx)(s.span,{className:"token punctuation",children:"}"}),(0,c.jsx)(s.span,{className:"token punctuation",children:";"}),"\n"]})}),"\n",(0,c.jsxs)(s.ol,{start:"2",children:["\n",(0,c.jsx)(s.li,{children:"\ucfe0\ud0a4\ub97c \ucc98\ub9ac\ud558\ub294 FetchWithCookie"}),"\n"]}),"\n",(0,c.jsx)(s.pre,{className:"language-typescript",children:(0,c.jsxs)(s.code,{className:"language-typescript",children:[(0,c.jsx)(s.span,{className:"token keyword module",children:"export"})," ",(0,c.jsx)(s.span,{className:"token keyword",children:"const"})," ",(0,c.jsx)(s.span,{className:"token function-variable function",children:(0,c.jsx)(s.span,{className:"token maybe-class-name",children:"FetchWithCookie"})})," ",(0,c.jsx)(s.span,{className:"token operator",children:"="})," ",(0,c.jsx)(s.span,{className:"token keyword",children:"async"})," ",(0,c.jsx)(s.span,{className:"token punctuation",children:"("}),"\n  input",(0,c.jsx)(s.span,{className:"token operator",children:":"})," ",(0,c.jsx)(s.span,{className:"token maybe-class-name",children:"RequestInfo"})," ",(0,c.jsx)(s.span,{className:"token operator",children:"|"})," ",(0,c.jsx)(s.span,{className:"token constant",children:"URL"}),(0,c.jsx)(s.span,{className:"token punctuation",children:","}),"\n  init",(0,c.jsx)(s.span,{className:"token operator",children:"?"}),(0,c.jsx)(s.span,{className:"token operator",children:":"})," ",(0,c.jsx)(s.span,{className:"token maybe-class-name",children:"RequestInit"}),"\n",(0,c.jsx)(s.span,{className:"token punctuation",children:")"})," ",(0,c.jsx)(s.span,{className:"token arrow operator",children:"=>"})," ",(0,c.jsx)(s.span,{className:"token punctuation",children:"{"}),"\n  ",(0,c.jsx)(s.span,{className:"token keyword control-flow",children:"if"})," ",(0,c.jsx)(s.span,{className:"token punctuation",children:"("}),"process",(0,c.jsx)(s.span,{className:"token punctuation",children:"."}),(0,c.jsx)(s.span,{className:"token property-access",children:"env"}),(0,c.jsx)(s.span,{className:"token punctuation",children:"."}),(0,c.jsx)(s.span,{className:"token constant",children:"NODE_ENV"})," ",(0,c.jsx)(s.span,{className:"token operator",children:"==="})," ",(0,c.jsx)(s.span,{className:"token string",children:"'production'"})," ",(0,c.jsx)(s.span,{className:"token operator",children:"&&"})," isServer",(0,c.jsx)(s.span,{className:"token punctuation",children:")"})," ",(0,c.jsx)(s.span,{className:"token punctuation",children:"{"}),"\n    ",(0,c.jsx)(s.span,{className:"token keyword control-flow",children:"try"})," ",(0,c.jsx)(s.span,{className:"token punctuation",children:"{"}),"\n      ",(0,c.jsx)(s.span,{className:"token keyword",children:"const"})," cookies ",(0,c.jsx)(s.span,{className:"token operator",children:"="})," ",(0,c.jsx)(s.span,{className:"token keyword control-flow",children:"await"})," ",(0,c.jsx)(s.span,{className:"token function",children:"getServerCookies"}),(0,c.jsx)(s.span,{className:"token punctuation",children:"("}),(0,c.jsx)(s.span,{className:"token punctuation",children:")"}),(0,c.jsx)(s.span,{className:"token punctuation",children:";"}),"\n      ",(0,c.jsx)(s.span,{className:"token keyword",children:"const"})," cookieString ",(0,c.jsx)(s.span,{className:"token operator",children:"="})," ",(0,c.jsx)(s.span,{className:"token function",children:"cookies"}),(0,c.jsx)(s.span,{className:"token punctuation",children:"("}),(0,c.jsx)(s.span,{className:"token punctuation",children:")"}),(0,c.jsx)(s.span,{className:"token punctuation",children:"."}),(0,c.jsx)(s.span,{className:"token method function property-access",children:"toString"}),(0,c.jsx)(s.span,{className:"token punctuation",children:"("}),(0,c.jsx)(s.span,{className:"token punctuation",children:")"}),(0,c.jsx)(s.span,{className:"token punctuation",children:";"}),"\n      ",(0,c.jsx)(s.span,{className:"token keyword control-flow",children:"return"})," ",(0,c.jsx)(s.span,{className:"token function",children:(0,c.jsx)(s.span,{className:"token maybe-class-name",children:"Fetch"})}),(0,c.jsx)(s.span,{className:"token punctuation",children:"("}),"input",(0,c.jsx)(s.span,{className:"token punctuation",children:","})," ",(0,c.jsx)(s.span,{className:"token punctuation",children:"{"}),"\n        ",(0,c.jsx)(s.span,{className:"token spread operator",children:"..."}),"init",(0,c.jsx)(s.span,{className:"token punctuation",children:","}),"\n        headers",(0,c.jsx)(s.span,{className:"token operator",children:":"})," ",(0,c.jsx)(s.span,{className:"token punctuation",children:"{"}),"\n          ",(0,c.jsx)(s.span,{className:"token spread operator",children:"..."}),"init",(0,c.jsx)(s.span,{className:"token operator",children:"?."}),"headers",(0,c.jsx)(s.span,{className:"token punctuation",children:","}),"\n          ",(0,c.jsx)(s.span,{className:"token string-property property",children:"'Content-Type'"}),(0,c.jsx)(s.span,{className:"token operator",children:":"})," ",(0,c.jsx)(s.span,{className:"token string",children:"'application/json'"}),(0,c.jsx)(s.span,{className:"token punctuation",children:","}),"\n          ",(0,c.jsx)(s.span,{className:"token maybe-class-name",children:"Cookie"}),(0,c.jsx)(s.span,{className:"token operator",children:":"})," cookieString",(0,c.jsx)(s.span,{className:"token punctuation",children:","}),"\n        ",(0,c.jsx)(s.span,{className:"token punctuation",children:"}"}),(0,c.jsx)(s.span,{className:"token punctuation",children:","}),"\n        credentials",(0,c.jsx)(s.span,{className:"token operator",children:":"})," ",(0,c.jsx)(s.span,{className:"token string",children:"'include'"}),(0,c.jsx)(s.span,{className:"token punctuation",children:","}),"\n      ",(0,c.jsx)(s.span,{className:"token punctuation",children:"}"}),(0,c.jsx)(s.span,{className:"token punctuation",children:")"}),(0,c.jsx)(s.span,{className:"token punctuation",children:";"}),"\n    ",(0,c.jsx)(s.span,{className:"token punctuation",children:"}"})," ",(0,c.jsx)(s.span,{className:"token keyword control-flow",children:"catch"})," ",(0,c.jsx)(s.span,{className:"token punctuation",children:"("}),"error",(0,c.jsx)(s.span,{className:"token punctuation",children:")"})," ",(0,c.jsx)(s.span,{className:"token punctuation",children:"{"}),"\n      ",(0,c.jsx)(s.span,{className:"token console class-name",children:"console"}),(0,c.jsx)(s.span,{className:"token punctuation",children:"."}),(0,c.jsx)(s.span,{className:"token method function property-access",children:"error"}),(0,c.jsx)(s.span,{className:"token punctuation",children:"("}),(0,c.jsx)(s.span,{className:"token string",children:"'Failed to get server cookies:'"}),(0,c.jsx)(s.span,{className:"token punctuation",children:","})," error",(0,c.jsx)(s.span,{className:"token punctuation",children:")"}),(0,c.jsx)(s.span,{className:"token punctuation",children:";"}),"\n      ",(0,c.jsx)(s.span,{className:"token keyword control-flow",children:"return"})," ",(0,c.jsx)(s.span,{className:"token function",children:(0,c.jsx)(s.span,{className:"token maybe-class-name",children:"Fetch"})}),(0,c.jsx)(s.span,{className:"token punctuation",children:"("}),"input",(0,c.jsx)(s.span,{className:"token punctuation",children:","})," ",(0,c.jsx)(s.span,{className:"token punctuation",children:"{"}),"\n        ",(0,c.jsx)(s.span,{className:"token spread operator",children:"..."}),"init",(0,c.jsx)(s.span,{className:"token punctuation",children:","}),"\n        credentials",(0,c.jsx)(s.span,{className:"token operator",children:":"})," ",(0,c.jsx)(s.span,{className:"token string",children:"'include'"}),(0,c.jsx)(s.span,{className:"token punctuation",children:","}),"\n      ",(0,c.jsx)(s.span,{className:"token punctuation",children:"}"}),(0,c.jsx)(s.span,{className:"token punctuation",children:")"}),(0,c.jsx)(s.span,{className:"token punctuation",children:";"}),"\n    ",(0,c.jsx)(s.span,{className:"token punctuation",children:"}"}),"\n  ",(0,c.jsx)(s.span,{className:"token punctuation",children:"}"}),"\n\n  ",(0,c.jsx)(s.span,{className:"token keyword control-flow",children:"return"})," ",(0,c.jsx)(s.span,{className:"token function",children:(0,c.jsx)(s.span,{className:"token maybe-class-name",children:"Fetch"})}),(0,c.jsx)(s.span,{className:"token punctuation",children:"("}),"input",(0,c.jsx)(s.span,{className:"token punctuation",children:","})," ",(0,c.jsx)(s.span,{className:"token punctuation",children:"{"}),"\n    ",(0,c.jsx)(s.span,{className:"token spread operator",children:"..."}),"init",(0,c.jsx)(s.span,{className:"token punctuation",children:","}),"\n    credentials",(0,c.jsx)(s.span,{className:"token operator",children:":"})," ",(0,c.jsx)(s.span,{className:"token string",children:"'include'"}),(0,c.jsx)(s.span,{className:"token punctuation",children:","}),"\n  ",(0,c.jsx)(s.span,{className:"token punctuation",children:"}"}),(0,c.jsx)(s.span,{className:"token punctuation",children:")"}),(0,c.jsx)(s.span,{className:"token punctuation",children:";"}),"\n",(0,c.jsx)(s.span,{className:"token punctuation",children:"}"}),(0,c.jsx)(s.span,{className:"token punctuation",children:";"}),"\n"]})}),"\n",(0,c.jsxs)(s.ol,{start:"3",children:["\n",(0,c.jsx)(s.li,{children:"JWT \ud1a0\ud070 \ucc98\ub9ac\ub97c \ud558\ub294 FetchWithJWT"}),"\n"]}),"\n",(0,c.jsx)(s.pre,{className:"language-typescript",children:(0,c.jsxs)(s.code,{className:"language-typescript",children:[(0,c.jsx)(s.span,{className:"token keyword module",children:"export"})," ",(0,c.jsx)(s.span,{className:"token keyword",children:"const"})," ",(0,c.jsx)(s.span,{className:"token function-variable function",children:(0,c.jsx)(s.span,{className:"token maybe-class-name",children:"FetchWithJWT"})})," ",(0,c.jsx)(s.span,{className:"token operator",children:"="})," ",(0,c.jsx)(s.span,{className:"token keyword",children:"async"})," ",(0,c.jsx)(s.span,{className:"token punctuation",children:"("}),"\n  input",(0,c.jsx)(s.span,{className:"token operator",children:":"})," ",(0,c.jsx)(s.span,{className:"token maybe-class-name",children:"RequestInfo"})," ",(0,c.jsx)(s.span,{className:"token operator",children:"|"})," ",(0,c.jsx)(s.span,{className:"token constant",children:"URL"}),(0,c.jsx)(s.span,{className:"token punctuation",children:","}),"\n  init",(0,c.jsx)(s.span,{className:"token operator",children:"?"}),(0,c.jsx)(s.span,{className:"token operator",children:":"})," ",(0,c.jsx)(s.span,{className:"token maybe-class-name",children:"RequestInit"}),"\n",(0,c.jsx)(s.span,{className:"token punctuation",children:")"})," ",(0,c.jsx)(s.span,{className:"token arrow operator",children:"=>"})," ",(0,c.jsx)(s.span,{className:"token punctuation",children:"{"}),"\n  ",(0,c.jsx)(s.span,{className:"token keyword",children:"const"})," res ",(0,c.jsx)(s.span,{className:"token operator",children:"="})," ",(0,c.jsx)(s.span,{className:"token keyword control-flow",children:"await"})," ",(0,c.jsx)(s.span,{className:"token function",children:(0,c.jsx)(s.span,{className:"token maybe-class-name",children:"FetchWithCookie"})}),(0,c.jsx)(s.span,{className:"token punctuation",children:"("}),"input",(0,c.jsx)(s.span,{className:"token punctuation",children:","})," init",(0,c.jsx)(s.span,{className:"token punctuation",children:")"}),(0,c.jsx)(s.span,{className:"token punctuation",children:";"}),"\n\n  ",(0,c.jsx)(s.span,{className:"token keyword control-flow",children:"if"})," ",(0,c.jsx)(s.span,{className:"token punctuation",children:"("}),"res",(0,c.jsx)(s.span,{className:"token punctuation",children:"."}),(0,c.jsx)(s.span,{className:"token property-access",children:"status"})," ",(0,c.jsx)(s.span,{className:"token operator",children:"==="})," ",(0,c.jsx)(s.span,{className:"token number",children:"401"}),(0,c.jsx)(s.span,{className:"token punctuation",children:")"})," ",(0,c.jsx)(s.span,{className:"token punctuation",children:"{"}),"\n    ",(0,c.jsx)(s.span,{className:"token keyword",children:"const"})," tokensRequest ",(0,c.jsx)(s.span,{className:"token operator",children:"="})," ",(0,c.jsx)(s.span,{className:"token keyword control-flow",children:"await"})," ",(0,c.jsx)(s.span,{className:"token function",children:"fetch"}),(0,c.jsx)(s.span,{className:"token punctuation",children:"("}),(0,c.jsx)(s.span,{className:"token string",children:"'api/reissue'"}),(0,c.jsx)(s.span,{className:"token punctuation",children:","})," init",(0,c.jsx)(s.span,{className:"token punctuation",children:")"}),(0,c.jsx)(s.span,{className:"token punctuation",children:";"}),"\n    ",(0,c.jsx)(s.span,{className:"token keyword control-flow",children:"if"})," ",(0,c.jsx)(s.span,{className:"token punctuation",children:"("}),(0,c.jsx)(s.span,{className:"token operator",children:"!"}),"tokensRequest",(0,c.jsx)(s.span,{className:"token punctuation",children:"."}),(0,c.jsx)(s.span,{className:"token property-access",children:"ok"}),(0,c.jsx)(s.span,{className:"token punctuation",children:")"})," ",(0,c.jsx)(s.span,{className:"token keyword control-flow",children:"return"})," ",(0,c.jsx)(s.span,{className:"token function",children:"redirect"}),(0,c.jsx)(s.span,{className:"token punctuation",children:"("}),(0,c.jsx)(s.span,{className:"token string",children:"'/login'"}),(0,c.jsx)(s.span,{className:"token punctuation",children:")"}),(0,c.jsx)(s.span,{className:"token punctuation",children:";"}),"\n\n    ",(0,c.jsx)(s.span,{className:"token keyword control-flow",children:"if"})," ",(0,c.jsx)(s.span,{className:"token punctuation",children:"("}),"process",(0,c.jsx)(s.span,{className:"token punctuation",children:"."}),(0,c.jsx)(s.span,{className:"token property-access",children:"env"}),(0,c.jsx)(s.span,{className:"token punctuation",children:"."}),(0,c.jsx)(s.span,{className:"token constant",children:"NODE_ENV"})," ",(0,c.jsx)(s.span,{className:"token operator",children:"==="})," ",(0,c.jsx)(s.span,{className:"token string",children:"'production'"})," ",(0,c.jsx)(s.span,{className:"token operator",children:"&&"})," isServer",(0,c.jsx)(s.span,{className:"token punctuation",children:")"})," ",(0,c.jsx)(s.span,{className:"token punctuation",children:"{"}),"\n      ",(0,c.jsx)(s.span,{className:"token keyword",children:"const"})," cookies ",(0,c.jsx)(s.span,{className:"token operator",children:"="})," ",(0,c.jsx)(s.span,{className:"token keyword control-flow",children:"await"})," ",(0,c.jsx)(s.span,{className:"token function",children:"getServerCookies"}),(0,c.jsx)(s.span,{className:"token punctuation",children:"("}),(0,c.jsx)(s.span,{className:"token punctuation",children:")"}),(0,c.jsx)(s.span,{className:"token punctuation",children:";"}),"\n      ",(0,c.jsx)(s.span,{className:"token keyword",children:"const"})," newCookies ",(0,c.jsx)(s.span,{className:"token operator",children:"="})," tokensRequest",(0,c.jsx)(s.span,{className:"token punctuation",children:"."}),(0,c.jsx)(s.span,{className:"token property-access",children:"headers"}),(0,c.jsx)(s.span,{className:"token punctuation",children:"."}),(0,c.jsx)(s.span,{className:"token method function property-access",children:"getSetCookie"}),(0,c.jsx)(s.span,{className:"token punctuation",children:"("}),(0,c.jsx)(s.span,{className:"token punctuation",children:")"}),(0,c.jsx)(s.span,{className:"token punctuation",children:";"}),"\n      newCookies",(0,c.jsx)(s.span,{className:"token punctuation",children:"."}),(0,c.jsx)(s.span,{className:"token method function property-access",children:"forEach"}),(0,c.jsx)(s.span,{className:"token punctuation",children:"("}),(0,c.jsx)(s.span,{className:"token punctuation",children:"("}),"cookie",(0,c.jsx)(s.span,{className:"token punctuation",children:")"})," ",(0,c.jsx)(s.span,{className:"token arrow operator",children:"=>"})," ",(0,c.jsx)(s.span,{className:"token punctuation",children:"{"}),"\n        ",(0,c.jsx)(s.span,{className:"token keyword",children:"const"})," ",(0,c.jsx)(s.span,{className:"token punctuation",children:"["}),"name",(0,c.jsx)(s.span,{className:"token punctuation",children:","})," value",(0,c.jsx)(s.span,{className:"token punctuation",children:"]"})," ",(0,c.jsx)(s.span,{className:"token operator",children:"="})," cookie",(0,c.jsx)(s.span,{className:"token punctuation",children:"."}),(0,c.jsx)(s.span,{className:"token method function property-access",children:"split"}),(0,c.jsx)(s.span,{className:"token punctuation",children:"("}),(0,c.jsx)(s.span,{className:"token string",children:"'='"}),(0,c.jsx)(s.span,{className:"token punctuation",children:")"}),(0,c.jsx)(s.span,{className:"token punctuation",children:";"}),"\n        ",(0,c.jsx)(s.span,{className:"token function",children:"cookies"}),(0,c.jsx)(s.span,{className:"token punctuation",children:"("}),(0,c.jsx)(s.span,{className:"token punctuation",children:")"}),(0,c.jsx)(s.span,{className:"token punctuation",children:"."}),(0,c.jsx)(s.span,{className:"token method function property-access",children:"set"}),(0,c.jsx)(s.span,{className:"token punctuation",children:"("}),"name",(0,c.jsx)(s.span,{className:"token punctuation",children:","})," value",(0,c.jsx)(s.span,{className:"token punctuation",children:")"}),(0,c.jsx)(s.span,{className:"token punctuation",children:";"}),"\n      ",(0,c.jsx)(s.span,{className:"token punctuation",children:"}"}),(0,c.jsx)(s.span,{className:"token punctuation",children:")"}),(0,c.jsx)(s.span,{className:"token punctuation",children:";"}),"\n    ",(0,c.jsx)(s.span,{className:"token punctuation",children:"}"}),"\n\n    ",(0,c.jsx)(s.span,{className:"token keyword control-flow",children:"return"})," ",(0,c.jsx)(s.span,{className:"token function",children:(0,c.jsx)(s.span,{className:"token maybe-class-name",children:"FetchWithCookie"})}),(0,c.jsx)(s.span,{className:"token punctuation",children:"("}),"input",(0,c.jsx)(s.span,{className:"token punctuation",children:","})," init",(0,c.jsx)(s.span,{className:"token punctuation",children:")"}),(0,c.jsx)(s.span,{className:"token punctuation",children:";"}),"\n  ",(0,c.jsx)(s.span,{className:"token punctuation",children:"}"})," ",(0,c.jsx)(s.span,{className:"token keyword control-flow",children:"else"})," ",(0,c.jsx)(s.span,{className:"token punctuation",children:"{"}),"\n    ",(0,c.jsx)(s.span,{className:"token keyword control-flow",children:"return"})," res",(0,c.jsx)(s.span,{className:"token punctuation",children:";"}),"\n  ",(0,c.jsx)(s.span,{className:"token punctuation",children:"}"}),"\n",(0,c.jsx)(s.span,{className:"token punctuation",children:"}"}),(0,c.jsx)(s.span,{className:"token punctuation",children:";"}),"\n"]})}),"\n",(0,c.jsx)(s.h2,{id:"\ubb38\uc81c\uc810-\ubc1c\uacac",children:"\ubb38\uc81c\uc810 \ubc1c\uacac"}),"\n",(0,c.jsx)(s.p,{children:"\ucf54\ub4dc\ub97c \ub9ac\ubdf0\ud558\uba74\uc11c \ub2e4\uc74c\uacfc \uac19\uc740 \ubb38\uc81c\uc810\uc744 \ubc1c\uacac\ud588\uc2b5\ub2c8\ub2e4:"}),"\n",(0,c.jsxs)(s.ol,{children:["\n",(0,c.jsxs)(s.li,{children:[(0,c.jsx)(s.code,{children:"FetchWithCookie"}),"\ub294 \uc0ac\uc2e4\uc0c1 ",(0,c.jsx)(s.code,{children:"FetchWithJWT"})," \uc548\uc5d0\uc11c\ub9cc \uc0ac\uc6a9\ub418\ub294 \uc911\uac04 \ub2e8\uacc4\uc758 \ud568\uc218"]}),"\n",(0,c.jsxs)(s.li,{children:[(0,c.jsx)(s.code,{children:"FetchWithJWT"}),"\uac00 ",(0,c.jsx)(s.code,{children:"FetchWithCookie"}),"\uc758 \uae30\ub2a5\uc744 \ud3ec\ud568\ud558\uc5ec \ucc98\ub9ac\ud560 \uc218 \uc788\uc74c"]}),"\n",(0,c.jsx)(s.li,{children:"\ubd88\ud544\uc694\ud55c \ud568\uc218 \ubd84\ub9ac\ub85c \uc778\ud55c \ucf54\ub4dc \ubcf5\uc7a1\ub3c4 \uc99d\uac00"}),"\n"]}),"\n",(0,c.jsx)(s.h2,{id:"\uacb0\ub860",children:"\uacb0\ub860"}),"\n",(0,c.jsxs)(s.ul,{children:["\n",(0,c.jsxs)(s.li,{children:[(0,c.jsx)(s.code,{children:"FetchWithCookie"})," \ud568\uc218\ub294 \ubd88\ud544\uc694\ud55c \uc911\uac04 \ub2e8\uacc4\uc600\uc74c"]}),"\n",(0,c.jsxs)(s.li,{children:["\ucfe0\ud0a4 \ucc98\ub9ac\uc640 \ud1a0\ud070 \uc7ac\ubc1c\uae09 \ubaa8\ub450 ",(0,c.jsx)(s.code,{children:"FetchWithJWT"}),"\uc5d0\uc11c \ud55c\ubc88\uc5d0 \ucc98\ub9ac \uac00\ub2a5"]}),"\n",(0,c.jsxs)(s.li,{children:["\uacb0\uad6d ",(0,c.jsx)(s.code,{children:"FetchWithJWT"}),"\ub9cc \uc0ac\uc6a9\ud558\uba74 \ub418\ub294 \uc0c1\ud669"]}),"\n"]}),"\n",(0,c.jsx)(s.h2,{id:"\uc2e4\uc81c-\uc0ac\uc6a9-\uc608\uc2dc",children:"\uc2e4\uc81c \uc0ac\uc6a9 \uc608\uc2dc"}),"\n",(0,c.jsx)(s.pre,{className:"language-typescript",children:(0,c.jsxs)(s.code,{className:"language-typescript",children:[(0,c.jsx)(s.span,{className:"token comment",children:"// API \ud638\ucd9c \uc2dc"}),"\n",(0,c.jsx)(s.span,{className:"token keyword",children:"const"})," response ",(0,c.jsx)(s.span,{className:"token operator",children:"="})," ",(0,c.jsx)(s.span,{className:"token keyword control-flow",children:"await"})," ",(0,c.jsx)(s.span,{className:"token function",children:(0,c.jsx)(s.span,{className:"token maybe-class-name",children:"FetchWithJWT"})}),(0,c.jsx)(s.span,{className:"token punctuation",children:"("}),(0,c.jsx)(s.span,{className:"token string",children:"'/recommend'"}),(0,c.jsx)(s.span,{className:"token punctuation",children:","})," ",(0,c.jsx)(s.span,{className:"token punctuation",children:"{"}),"\n  next",(0,c.jsx)(s.span,{className:"token operator",children:":"})," ",(0,c.jsx)(s.span,{className:"token punctuation",children:"{"})," revalidate",(0,c.jsx)(s.span,{className:"token operator",children:":"})," ",(0,c.jsx)(s.span,{className:"token number",children:"1200"})," ",(0,c.jsx)(s.span,{className:"token punctuation",children:"}"}),(0,c.jsx)(s.span,{className:"token punctuation",children:","}),"\n",(0,c.jsx)(s.span,{className:"token punctuation",children:"}"}),(0,c.jsx)(s.span,{className:"token punctuation",children:")"}),(0,c.jsx)(s.span,{className:"token punctuation",children:";"}),"\n\n",(0,c.jsx)(s.span,{className:"token keyword control-flow",children:"if"})," ",(0,c.jsx)(s.span,{className:"token punctuation",children:"("}),"response",(0,c.jsx)(s.span,{className:"token punctuation",children:"."}),(0,c.jsx)(s.span,{className:"token property-access",children:"ok"}),(0,c.jsx)(s.span,{className:"token punctuation",children:")"})," ",(0,c.jsx)(s.span,{className:"token punctuation",children:"{"}),"\n  ",(0,c.jsx)(s.span,{className:"token keyword",children:"const"})," data ",(0,c.jsx)(s.span,{className:"token operator",children:"="})," ",(0,c.jsx)(s.span,{className:"token keyword control-flow",children:"await"})," response",(0,c.jsx)(s.span,{className:"token punctuation",children:"."}),(0,c.jsx)(s.span,{className:"token method function property-access",children:"json"}),(0,c.jsx)(s.span,{className:"token punctuation",children:"("}),(0,c.jsx)(s.span,{className:"token punctuation",children:")"}),(0,c.jsx)(s.span,{className:"token punctuation",children:";"}),"\n  ",(0,c.jsx)(s.span,{className:"token comment",children:"// \ub370\uc774\ud130 \ucc98\ub9ac"}),"\n",(0,c.jsx)(s.span,{className:"token punctuation",children:"}"}),"\n"]})}),"\n",(0,c.jsx)(s.p,{children:"\uc774\ub807\uac8c \uad6c\ud604\ud558\uba74 JWT \uc778\uc99d\uc774 \ud544\uc694\ud55c \ubaa8\ub4e0 API \uc694\uccad\uc5d0\uc11c:"}),"\n",(0,c.jsxs)(s.ol,{children:["\n",(0,c.jsx)(s.li,{children:"\ucfe0\ud0a4\uc5d0 \uc800\uc7a5\ub41c JWT \ud1a0\ud070\uc744 \ud3ec\ud568\ud558\uc5ec \uc694\uccad"}),"\n",(0,c.jsx)(s.li,{children:"\ud1a0\ud070 \ub9cc\ub8cc \uc2dc(401 \uc5d0\ub7ec) \uc790\ub3d9\uc73c\ub85c \uc7ac\ubc1c\uae09"}),"\n",(0,c.jsx)(s.li,{children:"\uc7ac\ubc1c\uae09 \uc2e4\ud328 \uc2dc \ub85c\uadf8\uc778 \ud398\uc774\uc9c0\ub85c \ub9ac\ub2e4\uc774\ub809\ud2b8"}),"\n",(0,c.jsx)(s.li,{children:"\ud504\ub85c\ub355\uc158 \ud658\uacbd\uc5d0\uc11c\uc758 \uc11c\ubc84\uc0ac\uc774\ub4dc \ucfe0\ud0a4 \ucc98\ub9ac"}),"\n"]}),"\n",(0,c.jsxs)(s.p,{children:["\ubaa8\ub4e0 \uacfc\uc815\uc774 ",(0,c.jsx)(s.code,{children:"FetchWithJWT"})," \ud558\ub098\ub85c \ucc98\ub9ac\ub429\ub2c8\ub2e4."]})]})}function d(n={}){const{wrapper:s}={...(0,t.R)(),...n.components};return s?(0,c.jsx)(s,{...n,children:(0,c.jsx)(p,{...n})}):p(n)}},28453:(n,s,e)=>{e.d(s,{R:()=>o,x:()=>l});var a=e(96540);const c={},t=a.createContext(c);function o(n){const s=a.useContext(t);return a.useMemo((function(){return"function"==typeof n?n(s):{...s,...n}}),[s,n])}function l(n){let s;return s=n.disableParentContext?"function"==typeof n.components?n.components(c):n.components||c:o(n.components),a.createElement(t.Provider,{value:s},n.children)}}}]);