"use strict";(self.webpackChunkjk_story=self.webpackChunkjk_story||[]).push([[34466],{5726:(e,s,n)=>{n.r(s),n.d(s,{assets:()=>i,contentTitle:()=>c,default:()=>h,frontMatter:()=>t,metadata:()=>a,toc:()=>o});const a=JSON.parse('{"id":"DB/trouble-shooting/Prisma \uae30\uc874 \ud14c\uc774\ube14\uc5d0 \uc0c8\ub85c\uc6b4 \ud544\uc218 \uceec\ub7fc \ucd94\uac00\ud558\uae30","title":"Prisma \uae30\uc874 \ud14c\uc774\ube14\uc5d0 \uc0c8\ub85c\uc6b4 \ud544\uc218 \uceec\ub7fc \ucd94\uac00\ud558\uae30","description":"\uc791\uc131\uc77c : 2025.01.22","source":"@site/docs/05. DB/050100. trouble-shooting/Prisma \uae30\uc874 \ud14c\uc774\ube14\uc5d0 \uc0c8\ub85c\uc6b4 \ud544\uc218 \uceec\ub7fc \ucd94\uac00\ud558\uae30.md","sourceDirName":"05. DB/050100. trouble-shooting","slug":"/DB/trouble-shooting/Prisma \uae30\uc874 \ud14c\uc774\ube14\uc5d0 \uc0c8\ub85c\uc6b4 \ud544\uc218 \uceec\ub7fc \ucd94\uac00\ud558\uae30","permalink":"/zora_story/en/docs/DB/trouble-shooting/Prisma \uae30\uc874 \ud14c\uc774\ube14\uc5d0 \uc0c8\ub85c\uc6b4 \ud544\uc218 \uceec\ub7fc \ucd94\uac00\ud558\uae30","draft":false,"unlisted":false,"tags":[],"version":"current","frontMatter":{},"sidebar":"studySidebar","previous":{"title":"\ud2b9\uc815 \uc0ac\uc6a9 port \uc8fd\uc774\ub294 \ubc95","permalink":"/zora_story/en/docs/Network/\ud2b9\uc815 \uc0ac\uc6a9 port \uc8fd\uc774\ub294 \ubc95"},"next":{"title":"What is Prisma","permalink":"/zora_story/en/docs/DB/What is Prisma"}}');var r=n(74848),l=n(28453);const t={},c=void 0,i={},o=[{value:"\ubb38\uc81c \uc0c1\ud669",id:"\ubb38\uc81c-\uc0c1\ud669",level:2},{value:"\ud574\uacb0 \ubc29\ubc95",id:"\ud574\uacb0-\ubc29\ubc95",level:2},{value:"1. Schema \uc218\uc815",id:"1-schema-\uc218\uc815",level:3},{value:"2. \ub9c8\uc774\uadf8\ub808\uc774\uc158 \ud30c\uc77c \uc0dd\uc131",id:"2-\ub9c8\uc774\uadf8\ub808\uc774\uc158-\ud30c\uc77c-\uc0dd\uc131",level:3},{value:"3. \ub9c8\uc774\uadf8\ub808\uc774\uc158 \ud30c\uc77c \uc218\uc815",id:"3-\ub9c8\uc774\uadf8\ub808\uc774\uc158-\ud30c\uc77c-\uc218\uc815",level:3},{value:"4. \ub9c8\uc774\uadf8\ub808\uc774\uc158 \uc2e4\ud589",id:"4-\ub9c8\uc774\uadf8\ub808\uc774\uc158-\uc2e4\ud589",level:3},{value:"\uacb0\ub860",id:"\uacb0\ub860",level:2}];function d(e){const s={blockquote:"blockquote",code:"code",h2:"h2",h3:"h3",img:"img",p:"p",pre:"pre",span:"span",...(0,l.R)(),...e.components};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)(s.blockquote,{children:["\n",(0,r.jsx)(s.p,{children:"\uc791\uc131\uc77c : 2025.01.22"}),"\n"]}),"\n",(0,r.jsx)(s.h2,{id:"\ubb38\uc81c-\uc0c1\ud669",children:"\ubb38\uc81c \uc0c1\ud669"}),"\n",(0,r.jsx)(s.p,{children:(0,r.jsx)(s.img,{src:n(82659).A+"",width:"1218",height:"236"})}),"\n",(0,r.jsx)(s.p,{children:"Prisma schema\uc5d0 \uc0c8\ub85c\uc6b4 \ud544\uc218(required) \uceec\ub7fc\uc744 \ucd94\uac00\ud558\uace0 \ub9c8\uc774\uadf8\ub808\uc774\uc158\uc744 \uc2e4\ud589\ud560 \ub54c, \ub2e4\uc74c\uacfc \uac19\uc740 \uc5d0\ub7ec\uac00 \ubc1c\uc0dd\ud560 \uc218 \uc788\uc2b5\ub2c8\ub2e4:"}),"\n",(0,r.jsx)(s.pre,{children:(0,r.jsx)(s.code,{children:"Error: \r\nNo found changes that cannot be executed:\r\n\u2022 Step 1 Added the required column 'gender' to the 'User' table without a default value. There are 3 rows in this table, it is not possible to execute this step.\n"})}),"\n",(0,r.jsx)(s.p,{children:"\uc774 \uc5d0\ub7ec\ub294 \uc774\ubbf8 \ub370\uc774\ud130\uac00 \uc788\ub294 \ud14c\uc774\ube14\uc5d0 \uae30\ubcf8\uac12\uc774 \uc5c6\ub294 \ud544\uc218 \uceec\ub7fc\uc744 \ucd94\uac00\ud558\ub824\uace0 \ud560 \ub54c \ubc1c\uc0dd\ud569\ub2c8\ub2e4."}),"\n",(0,r.jsx)(s.h2,{id:"\ud574\uacb0-\ubc29\ubc95",children:"\ud574\uacb0 \ubc29\ubc95"}),"\n",(0,r.jsx)(s.h3,{id:"1-schema-\uc218\uc815",children:"1. Schema \uc218\uc815"}),"\n",(0,r.jsx)(s.p,{children:"\uba3c\uc800 schema.prisma \ud30c\uc77c\uc5d0\uc11c \uc0c8\ub85c\uc6b4 \uceec\ub7fc\ub4e4\uc5d0 \uae30\ubcf8\uac12\uc744 \ucd94\uac00\ud569\ub2c8\ub2e4:"}),"\n",(0,r.jsx)(s.pre,{className:"language-prisma",children:(0,r.jsx)(s.code,{className:"language-prisma",children:'model User {\r\n  id          Int      @id @default(autoincrement())\r\n  email       String   @unique\r\n  password    String\r\n  role        String   @default("R001")\r\n  nickname    String?\r\n  gender      String   @default("")    // \uae30\ubcf8\uac12 \uc124\uc815\r\n  image_url   String   @default("")    // \uae30\ubcf8\uac12 \uc124\uc815\r\n  provider    String   @default("local") // \uae30\ubcf8\uac12 \uc124\uc815\r\n}\n'})}),"\n",(0,r.jsx)(s.h3,{id:"2-\ub9c8\uc774\uadf8\ub808\uc774\uc158-\ud30c\uc77c-\uc0dd\uc131",children:"2. \ub9c8\uc774\uadf8\ub808\uc774\uc158 \ud30c\uc77c \uc0dd\uc131"}),"\n",(0,r.jsx)(s.p,{children:"\ub2e4\uc74c \uba85\ub839\uc5b4\ub97c \uc2e4\ud589\ud558\uc5ec \ub9c8\uc774\uadf8\ub808\uc774\uc158 \ud30c\uc77c\uc744 \uc0dd\uc131\ud569\ub2c8\ub2e4:"}),"\n",(0,r.jsx)(s.pre,{className:"language-bash",children:(0,r.jsx)(s.code,{className:"language-bash",children:"npx prisma migrate dev --create-only\n"})}),"\n",(0,r.jsx)(s.h3,{id:"3-\ub9c8\uc774\uadf8\ub808\uc774\uc158-\ud30c\uc77c-\uc218\uc815",children:"3. \ub9c8\uc774\uadf8\ub808\uc774\uc158 \ud30c\uc77c \uc218\uc815"}),"\n",(0,r.jsx)(s.p,{children:"\uc0dd\uc131\ub41c \ub9c8\uc774\uadf8\ub808\uc774\uc158 \ud30c\uc77c\uc5d0\uc11c SQL \ucffc\ub9ac\ub97c \ub2e4\uc74c\uacfc \uac19\uc774 \uc218\uc815\ud569\ub2c8\ub2e4:"}),"\n",(0,r.jsx)(s.pre,{className:"language-sql",children:(0,r.jsxs)(s.code,{className:"language-sql",children:[(0,r.jsx)(s.span,{className:"token keyword",children:"ALTER"})," ",(0,r.jsx)(s.span,{className:"token keyword",children:"TABLE"})," ",(0,r.jsx)(s.span,{className:"token string",children:'"User"'})," ",(0,r.jsx)(s.span,{className:"token keyword",children:"ADD"})," ",(0,r.jsx)(s.span,{className:"token keyword",children:"COLUMN"})," ",(0,r.jsx)(s.span,{className:"token string",children:'"gender"'})," ",(0,r.jsx)(s.span,{className:"token keyword",children:"TEXT"})," ",(0,r.jsx)(s.span,{className:"token operator",children:"NOT"})," ",(0,r.jsx)(s.span,{className:"token boolean",children:"NULL"})," ",(0,r.jsx)(s.span,{className:"token keyword",children:"DEFAULT"})," ",(0,r.jsx)(s.span,{className:"token string",children:"''"}),(0,r.jsx)(s.span,{className:"token punctuation",children:";"}),"\r\n",(0,r.jsx)(s.span,{className:"token keyword",children:"ALTER"})," ",(0,r.jsx)(s.span,{className:"token keyword",children:"TABLE"})," ",(0,r.jsx)(s.span,{className:"token string",children:'"User"'})," ",(0,r.jsx)(s.span,{className:"token keyword",children:"ADD"})," ",(0,r.jsx)(s.span,{className:"token keyword",children:"COLUMN"})," ",(0,r.jsx)(s.span,{className:"token string",children:'"image_url"'})," ",(0,r.jsx)(s.span,{className:"token keyword",children:"TEXT"})," ",(0,r.jsx)(s.span,{className:"token operator",children:"NOT"})," ",(0,r.jsx)(s.span,{className:"token boolean",children:"NULL"})," ",(0,r.jsx)(s.span,{className:"token keyword",children:"DEFAULT"})," ",(0,r.jsx)(s.span,{className:"token string",children:"''"}),(0,r.jsx)(s.span,{className:"token punctuation",children:";"}),"\r\n",(0,r.jsx)(s.span,{className:"token keyword",children:"ALTER"})," ",(0,r.jsx)(s.span,{className:"token keyword",children:"TABLE"})," ",(0,r.jsx)(s.span,{className:"token string",children:'"User"'})," ",(0,r.jsx)(s.span,{className:"token keyword",children:"ADD"})," ",(0,r.jsx)(s.span,{className:"token keyword",children:"COLUMN"})," ",(0,r.jsx)(s.span,{className:"token string",children:'"provider"'})," ",(0,r.jsx)(s.span,{className:"token keyword",children:"TEXT"})," ",(0,r.jsx)(s.span,{className:"token operator",children:"NOT"})," ",(0,r.jsx)(s.span,{className:"token boolean",children:"NULL"})," ",(0,r.jsx)(s.span,{className:"token keyword",children:"DEFAULT"})," ",(0,r.jsx)(s.span,{className:"token string",children:"'local'"}),(0,r.jsx)(s.span,{className:"token punctuation",children:";"}),"\n"]})}),"\n",(0,r.jsx)(s.h3,{id:"4-\ub9c8\uc774\uadf8\ub808\uc774\uc158-\uc2e4\ud589",children:"4. \ub9c8\uc774\uadf8\ub808\uc774\uc158 \uc2e4\ud589"}),"\n",(0,r.jsx)(s.p,{children:"\ub9c8\uc9c0\ub9c9\uc73c\ub85c \ub9c8\uc774\uadf8\ub808\uc774\uc158\uc744 \uc2e4\ud589\ud569\ub2c8\ub2e4:"}),"\n",(0,r.jsx)(s.pre,{className:"language-bash",children:(0,r.jsx)(s.code,{className:"language-bash",children:"npx prisma migrate dev\n"})}),"\n",(0,r.jsx)(s.h2,{id:"\uacb0\ub860",children:"\uacb0\ub860"}),"\n",(0,r.jsx)(s.p,{children:"\uc774 \ubc29\ubc95\uc744 \ud1b5\ud574 \uae30\uc874 \ub370\uc774\ud130\ub97c \uc720\uc9c0\ud558\uba74\uc11c \uc0c8\ub85c\uc6b4 \ud544\uc218 \uceec\ub7fc\uc744 \uc548\uc804\ud558\uac8c \ucd94\uac00\ud560 \uc218 \uc788\uc2b5\ub2c8\ub2e4. \uc0c8\ub85c\uc6b4 \uceec\ub7fc\uc5d0 \uae30\ubcf8\uac12\uc744 \uc124\uc815\ud568\uc73c\ub85c\uc368 \uae30\uc874 \ub808\ucf54\ub4dc\ub4e4\ub3c4 \uc790\ub3d9\uc73c\ub85c \ud574\ub2f9 \uae30\ubcf8\uac12\uc744 \uac00\uc9c0\uac8c \ub429\ub2c8\ub2e4."}),"\n",(0,r.jsx)(s.p,{children:"\uc774\ub294 \ub370\uc774\ud130\ubca0\uc774\uc2a4 \ub9c8\uc774\uadf8\ub808\uc774\uc158 \uc2dc \uc790\uc8fc \ubc1c\uc0dd\ud558\ub294 \ubb38\uc81c\uc774\uba70, Prisma\uc758 \ub9c8\uc774\uadf8\ub808\uc774\uc158 \uae30\ub2a5\uc744 \ud65c\uc6a9\ud558\uc5ec \ud6a8\uacfc\uc801\uc73c\ub85c \ud574\uacb0\ud560 \uc218 \uc788\uc2b5\ub2c8\ub2e4."})]})}function h(e={}){const{wrapper:s}={...(0,l.R)(),...e.components};return s?(0,r.jsx)(s,{...e,children:(0,r.jsx)(d,{...e})}):d(e)}},82659:(e,s,n)=>{n.d(s,{A:()=>a});const a=n.p+"assets/images/050100_1-937ebfb70dffaac51872bcfdc9fd71f1.png"},28453:(e,s,n)=>{n.d(s,{R:()=>t,x:()=>c});var a=n(96540);const r={},l=a.createContext(r);function t(e){const s=a.useContext(l);return a.useMemo((function(){return"function"==typeof e?e(s):{...s,...e}}),[s,e])}function c(e){let s;return s=e.disableParentContext?"function"==typeof e.components?e.components(r):e.components||r:t(e.components),a.createElement(l.Provider,{value:s},e.children)}}}]);